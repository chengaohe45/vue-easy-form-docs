(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{143:function(module,__webpack_exports__,__webpack_require__){"use strict";var E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(144),E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_1__),E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80),E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(106),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__),_entry__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(357),_libs_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(352),_package_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(353),_package_json__WEBPACK_IMPORTED_MODULE_6___namespace=__webpack_require__.t(353,1),_components_demo_frame_schemas_operation_schema_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(354);__webpack_exports__.a={data:function(){return{opGlobal:{fromDoc:!0},opSchema:_components_demo_frame_schemas_operation_schema_js__WEBPACK_IMPORTED_MODULE_7__.a,opValue:{},isExpanded:!1,hovering:!1,errMsg:!1,formValue:{},formSchema:!1,formGlobal:void 0,codepen:{script:"",html:"",style:""}}},props:{hash:{type:String,required:!1,default:void 0},canOperate:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:!1}},computed:{iconClass:function(){return this.isExpanded?"el-icon-caret-top":"el-icon-caret-bottom"},controlText:function(){return this.isExpanded?"隐藏代码":"显示代码"}},created:function(){this.$data.isExpanded=this.open;var e=this.getSchema();_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isObj(e)?this.$data.formSchema=e:_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isStr(e)&&(this.$data.errMsg=e)},mounted:function(){if(!1===this.$data.formSchema){var e=this.getSchema();_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isObj(e)?this.$data.formSchema=e:_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isStr(e)&&(this.$data.errMsg=e)}},methods:{getSchema:function(){var e=!1,t=this.$slots.default;if(t&&t[0]&&t[0].elm){var a=t[0].elm.innerText.split(/export\s+default(\s|\n)*\{/g)[2];if(a){var s=a.lastIndexOf("}"),r=a.substr(0,s);r=r.trim(),this.codepen.script=r;var i,n="return ({"+r+"});",o=!1;try{var l=(i=(i=new Function(n)()).data()).schema||i.formSchema;if(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isObj(l)&&E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(l).length>0){o=l;var c=i.global||i.formGlobal;_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isObj(c)&&E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(c).length>0?(this.$data.formGlobal=c,this.$data.codepen.html='<es-form :schema="formSchema" :global="formGlobal" v-model="formValue"></es-form>'):this.$data.codepen.html='<es-form :schema="formSchema" v-model="formValue"></es-form>'}else o="数据不正确: data必须存在对象schema且不能为空"}catch(e){o="数据不正确"}e=o}}return e},validHandler:function(){this.$refs.form.checkAll()?this.$message({message:"调用form.checkAll(): 表单输入正确",type:"success"}):this.$message({message:"调用form.checkAll(): 表单输入不合法",type:"error"})},resetHandler:function(){this.$refs.form.reset(),this.$message({message:"调用form.reset(): 重置成功",type:"success"})},toggleGlobalHandler:function(){var e=this.$data.formGlobal;e&&e.hasOwnProperty("status")&&(e.status=!e.status)},setValueHandler:function setValueHandler(){if(this.$refs.opRef.checkAll()){var opValue=this.$data.opValue,value;try{eval("value = "+opValue.value)}catch(e){return this.$message({message:"值无法解析",type:"error"}),console.error(e),!1}opValue.key?this.$refs.form.setValue(opValue.key,value):_libs_utils__WEBPACK_IMPORTED_MODULE_5__.a.isObj(value)?this.$refs.form.setValue(value):this.$message({message:"当key为空时，value必须是一个对象",type:"warning"})}},goCodepen:function(){for(var e=(_package_json__WEBPACK_IMPORTED_MODULE_6__.devDependencies["element-ui"]||_package_json__WEBPACK_IMPORTED_MODULE_6__.dependencies["element-ui"]).match(/\d+(\.\d+)*/g)[0],t=_package_json__WEBPACK_IMPORTED_MODULE_6__.version,a=this.$data.codepen,s=a.script,r=a.html,i=a.style,n='<script src="//unpkg.com/vue/dist/vue.js"><\/script>\n<scr'+'ipt src="//unpkg.com/element-ui@'.concat(e,'/lib/index.js"></scr')+"ipt>\n<scr"+'ipt src="//unpkg.com/vue-easy-form@'.concat(t,'/dist/es-form.umd.min.js"></scr')+"ipt>",o='Vue.use(window["esForm"], { // 进行全局配置\n   rowSpace: 12, // 系统默认为20\n   defaultCom: "el-input", // 默认组件改为el-input\n   trimDoms: ["input", "textarea", "el-input"], \n   hasConsole: true  // 打开控制台\n});\n\nvar Main = {\n   '+s+"\n}",l="".concat(n,'\n<div id="app" style="font-size: 14px;">\n  ').concat(r.trim(),"\n</div>"),c={js:o=o?o+"\nvar Ctor = Vue.extend(Main)\nnew Ctor().$mount('#app')":"new Vue().$mount('#app')",css:'@import url("//unpkg.com/element-ui@'.concat(e,'/lib/theme-chalk/index.css");\n').concat((i||"").trim(),"\n"),html:l},h=document.getElementById("fiddle-form")||document.createElement("form");h.firstChild;)h.removeChild(h.firstChild);h.method="POST",h.action="https://codepen.io/pen/define/",h.target="_blank",h.style.display="none";var p=document.createElement("input");p.setAttribute("name","data"),p.setAttribute("type","hidden"),p.setAttribute("value",E_my_projects_vue_easy_form_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0___default()(c)),h.appendChild(p),document.body.appendChild(h),h.submit()}}}},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},328:function(e,t,a){"use strict";var s=a(155);a.n(s).a},331:function(e,t,a){"use strict";var s=a(156);a.n(s).a},332:function(e,t,a){"use strict";var s=a(157);a.n(s).a},333:function(e,t,a){"use strict";var s=a(158);a.n(s).a},334:function(e,t,a){"use strict";var s=a(159);a.n(s).a},335:function(e,t,a){"use strict";var s=a(160);a.n(s).a},336:function(e,t,a){"use strict";var s=a(161);a.n(s).a},337:function(e,t,a){"use strict";var s=a(162);a.n(s).a},338:function(e,t,a){"use strict";var s=a(163);a.n(s).a},339:function(e,t,a){"use strict";var s=a(164);a.n(s).a},340:function(e,t,a){"use strict";var s=a(165);a.n(s).a},341:function(e,t,a){"use strict";var s=a(166);a.n(s).a},342:function(e,t,a){"use strict";var s=a(167);a.n(s).a},344:function(e,t,a){"use strict";var s=a(168);a.n(s).a},345:function(e,t,a){"use strict";var s=a(169);a.n(s).a},346:function(e,t,a){"use strict";var s=a(170);a.n(s).a},347:function(e,t,a){"use strict";var s=a(171);a.n(s).a},348:function(e,t,a){"use strict";var s=a(172);a.n(s).a},349:function(e,t,a){"use strict";var s=a(173);a.n(s).a},350:function(e,t,a){"use strict";var s=a(174);a.n(s).a},351:function(e,t,a){"use strict";var s=a(175);a.n(s).a},352:function(e,t,a){"use strict";a(105),a(212),a(89);var s={trim:function(e,t){return(e+"").replace(t=t||/^(\s|\r|\n|\t)+|(\s|\r|\n|\t)+$/g,"")},type:function(e){var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)];return!t&&e instanceof Element?"element":t},isBool:function(e){return"boolean"===s.type(e)},isNum:function(e){return"number"===s.type(e)},isStr:function(e){return"string"===s.type(e)},isFunc:function(e){return"function"===s.type(e)},isArr:function(e){return"array"===s.type(e)},isDate:function(e){return"date"===s.type(e)},isReg:function(e){return"regExp"===s.type(e)},isUndef:function(e){return"undefined"===s.type(e)},isNull:function(e){return"null"===s.type(e)},isObj:function(e){return"object"===s.type(e)},deepCopy:function(e){var t=[],a=[],s=this.__deepCopy(e,t,a);return t=null,a=null,s},__deepCopy:function(e,t,a){var r,i,n=s.type(e);if("array"==n){if((i=t.indexOf(e))<0){r=[],t.push(e),a.push(r);for(var o=0;o<e.length;++o)r[o]=this.__deepCopy(e[o],t,a);return r}return a[i]}if("object"===n){if((i=t.indexOf(e))<0){for(var l in r={},t.push(e),a.push(r),e)r[l]=this.__deepCopy(e[l],t,a);return r}return a[i]}return e},randStr:function(e,t){var a,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=!0;(!this.isNum(e)||e<1)&&(e=10),(!this.isNum(t)||t<1)&&(r=!1,t=10),a=r?e>=t?t:e+Math.round(Math.random()*(t-e)):e;for(var i="",n=s.length,o=0;o<a;o++)i+=s[Math.floor(Math.random()*n)];return i},isDynaPath:function(e){return e&&e.indexOf("/:")>=0},offsetBit:function(e,t,a){t=t||2,a=a||"0";var s=e+"";if(s.length<t)for(var r=0;r<t-s.length;r++)s=a+s;return s},extend:function(e,t,a){var r;for(var i in r=a?s.deepCopy(e):e,t)r[i]=t[i];return r},formatDate:function(e,t){if(!e)return"";if("string"!=typeof e){var a=s.offsetBit(e.getFullYear(),2,0),r=s.offsetBit(e.getMonth()+1,2,0),i=a+"-"+r+"-"+s.offsetBit(e.getDate(),2,0),n=s.offsetBit(e.getHours(),2,0)+":"+s.offsetBit(e.getMinutes(),2,0)+":"+s.offsetBit(e.getSeconds(),2,0);return"year"==t?a+"":"month"==t?a+"-"+r:"date"==t?i:"time"==t?n:i+" "+n}return e},isMobile:function(e){return!!/^1[3-9]\d{9}$/.test(e)},isDateTime:function(e,t){if(e&&"string"==typeof e){var a="20\\d{2}(\\-|\\/)(0?\\d|1[012])\\1(0?\\d|[12]\\d|3[01])",s="(0?\\d|1\\d|2[0123]):(0?\\d|[12345]\\d):(0?\\d|[12345]\\d)";return!!("date"==t?RegExp(a):"time"==t?RegExp(s):RegExp("^"+a+"\\s+"+s+"$")).test(e)}return!1},pathTrim:function(e){return e.toLowerCase().replace(/\/$/,"")},keyMap:function(e,t){var a,r,i;if(s.isArr(e)){for(var n=e,o=[],l=0;l<n.length;l++){for(i in r={},a=n[l])t[i]?r[t[i]]=a[i]:r[i]=a[i];o.push(r)}return o}for(i in r={},a=e)t[i]?r[t[i]]=a[i]:r[i]=a[i];return r}};t.a=s},353:function(e){e.exports={name:"vue-easy-form",version:"1.5.6",private:!1,description:"",homepage:"",author:{name:"peter.chen",email:"",url:""},main:"dist/es-form.umd.min.js",scripts:{dev:"vue-cli-service serve",serve:"vue-cli-service serve",build:"vue-cli-service build",release:"vue-cli-service build --target lib --name es-form ./src/package/index.js",lint:"vue-cli-service lint","test:unit":"vue-cli-service test:unit","docs:dev":"vuepress dev docs","docs:build":"vuepress build docs"},license:"MIT",keywords:["vue","easy-form","es-form","vue-easy-form"],files:["dist","README.md"],dependencies:{vue:"^2.6.11"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.1","@vue/cli-plugin-eslint":"^3.0.1","@vue/cli-plugin-unit-mocha":"^3.0.1","@vue/cli-service":"^3.0.1","@vue/eslint-config-prettier":"^3.0.1","@vue/test-utils":"^1.0.0-beta.20",chai:"^4.1.2","element-ui":"^2.13.0","node-sass":"^4.9.0","sass-loader":"^7.0.1","vue-router":"^3.0.1","vue-template-compiler":"^2.6.11",vuepress:"^1.2.0","webpack-api-mocker":"^1.5.15"}}},354:function(e,t,a){"use strict";t.a={ui:{colon:!0,rowSpace:10,labelWidth:72},properties:{key:{label:"Key",component:{name:"el-input",props:{placeholder:"项组件路径/pathKey"}},value:"",help:{props:{content:"点击查看pathKey",href:"https://chengaohe45.github.io/vue-easy-form-docs/dist/base/explain.html#项组件路径"}}},value:{label:"Value",component:{name:"el-input",props:{placeholder:"es: {{$root.key}} ? '格式：整数(123)，字符串(\"123\")': '格式：对象({...})'",type:"textarea",rows:4}},value:"",rules:{required:!0,emptyMsg:"值不能为空"},desc:"es: {{$root.key}} ? '对应的值(字符串两边记得加上双引号，如：\"你好\")': (!{{$global}}.fromDoc ? '必须是一个Object(可复制下面的值来试试)' : '必须是一个Object')",help:{props:{content:"es: !{{$global}}.fromDoc ? '此值会用eval解析, 所以输入要符合格式。<br/>点击可查看值设值' : '此值会用eval解析, 所以输入要符合格式。'",href:"es: !{{$global}}.fromDoc ? 'https://chengaohe45.github.io/vue-easy-form-docs/dist/base/value.html#设值' : ''"}}}}}},355:function(e,t,a){"use strict";var s=a(176);a.n(s).a},357:function(e,t,a){"use strict";var s=a(0),r=(a(286),a(287)),i=a.n(r),n=a(80),o=a.n(n),l=a(144),c=a.n(l),h=(a(84),a(107),a(89),a(87),a(88),a(106),{props:{schema:{type:Object,default:function(){return{}}}}}),p=a(104),d=a.n(p),u=(a(212),a(105),{unicodeRegExp:/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,validateComponentName:function(e){return new RegExp("^[a-zA-Z][\\-\\.0-9_"+this.unicodeRegExp.source+"]*$").test(e)},trim:function(e,t){return(e+"").replace(t=t||/^(\s|\r|\n|\t)+|(\s|\r|\n|\t)+$/g,"")},type:function(e){var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)];return!t&&e instanceof Element?"element":t},isBool:function(e){return"boolean"===u.type(e)},isNum:function(e){return"number"===u.type(e)},isStr:function(e){return"string"===u.type(e)},isFunc:function(e){return"function"===u.type(e)},isArr:function(e){return"array"===u.type(e)},isDate:function(e){return"date"===u.type(e)},isReg:function(e){return"regExp"===u.type(e)},isUndef:function(e){return"undefined"===u.type(e)},isNull:function(e){return"null"===u.type(e)},isObj:function(e){return"object"===u.type(e)},isVueObj:function(e){return!!this.isObj(e)&&!!(e.template||e.staticRenderFns&&e.__file)},isRefVal:function(e){return this.isObj(e)||this.isArr(e)},deepCopy:function(e){var t=[],a=[],s=this.__deepCopy(e,t,a);return t=null,a=null,s},__deepCopy:function(e,t,a){var s,r,i=u.type(e);if("array"==i){if((r=t.indexOf(e))<0){s=[],t.push(e),a.push(s);for(var n=0;n<e.length;++n)s[n]=this.__deepCopy(e[n],t,a);return s}return a[r]}if("object"===i){if((r=t.indexOf(e))<0){for(var o in s={},t.push(e),a.push(s),e)s[o]=this.__deepCopy(e[o],t,a);return s}return a[r]}return e},unique:function(e){var t=[];if(this.isArr(e)){var a={};e.forEach(function(e){a[e]=1}),t=o()(a)}return t},isInter:function(e,t){for(var a=0;a<e.length;a++)if(t.includes(e[a]))return!0;return!1},vueCamelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},randStr:function(e,t){var a,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=!0;(!this.isNum(e)||e<1)&&(e=10),(!this.isNum(t)||t<1)&&(r=!1,t=10),a=r?e>=t?t:e+Math.round(Math.random()*(t-e)):e;for(var i="",n=s.length,o=0;o<a;o++)i+=s[Math.floor(Math.random()*n)];return i},mergeGlobal:function(e,t){if(u.isObj(t))for(var a in t)if(u.isUndef(e[a]))console.warn("mergeGlobal: key("+a+")不存在");else{var s=t[a];switch(a){case"boxRowHeight":case"boxRowSpace":case"boxLabelWidth":case"rowHeight":case"rowSpace":case"labelWidth":case"offsetLeft":case"offsetRight":"boxRowHeight"==a?(console.warn("全局设置boxRowHeight已经弃用，请改用为rowHeight"),a="rowHeight"):"boxRowSpace"==a?(console.warn("全局设置boxRowSpace已经弃用，请改用为rowSpace"),a="rowSpace"):"boxLabelWidth"==a&&(console.warn("全局设置boxLabelWidth已经弃用，请改用为labelWidth"),a="labelWidth"),u.isNum(s)&&s>=0?e[a]=s:console.warn("mergeGlobal: key("+a+")的值不是数值且大于等于0；此默认值将不重设");break;case"colon":u.isBool(s)?e[a]=s:console.warn("mergeGlobal: key("+a+")的值不是true/false；此默认值将不重设");break;case"direction":["v","h"].includes(s)?e[a]=s:console.warn("mergeGlobal: key("+a+')的值不是数组["v", "h"]；此默认值将不重设');break;case"defaultCom":s&&u.isStr(s)&&s.trim()?e[a]=s.trim():console.warn("mergeGlobal: key("+a+")的值有误(1. 不能为空; 2. 是字符串)；此默认值将不重设");break;case"trimEvent":console.warn("trimEvent已经移走了，请关注trimDoms");break;case"trimDoms":var r;u.isStr(s)?r=[s.trim()]:u.isArr(s)?r=s.map(function(e){return u.isStr(e)?e.trim():e}):console.warn("mergeGlobal: key("+a+")的值有误, 必须是一个组件名或一个组件；此默认值将不重设"),r&&((r=r.filter(function(e){return!!e})).length<=0&&console.log("trimDoms的长度为0"),e[a]=r);break;case"defaultVal":u.isUndef(s)?console.warn("mergeGlobal: key("+a+")不能设置为undefined；此默认值将不重设"):e[a]=s;break;case"hasConsole":u.isBool(s)?e[a]=s:console.warn("mergeGlobal: key("+a+")不能设置为非true/false；此默认值将不重设")}}}}),_=u,m={UI_MAX_COL:24,ARRAY_TABLE:"array-table",ARRAY_TABS:"array-tabs",ARRAY_LEGEND:"array-legend",ARRAY_ROW:"array",ARRAY_CARD:"array-card",POINT_CENTER_CENTER:"center-center",POINT_ARROW_CENTER:"arrow-center",POINT_ARROW_OFFSET:"arrow-offset",ADJ_NATIVE:"native",INPUT_EVENT:"input",CHANGE_EVENT:"change",CLICK_EVENT:"click",TAG_INPUT:"input",TYPE_RADIO:"radio",TYPE_CHECKBOX:"checkbox",KEYUP_NATIVE:"keyup.native",ENTER_SUBMIT:"@enterSubmit",ONLY_SUBMIT:"@submit",LAYOUT_SPACE:"space",LAYOUT_TABS:"tabs",UI_FORM:"_es_form_qwerty_",UI_ITEM:"_es_item_qwerrf_",UI_ARRAY:"_es_array_aadfsd_",ES_FUNC_NAME:"__E0S1_2F3U4NC_N4AM5E__",ES_OPTIONS:"__es__Options__",PREFIX_STATIC_FUNC:["s:"],FORM_INPUTS:["input","textarea"],INPUT_CHANGE:"change"},f={render:function(e){if(!this.config.name)throw console.error("错误的config: ",this.config),"es-base config.name必须存在";var t,a=this.config.props?this.config.props:{},s={},r={},i={},n=this.config.directives?_.deepCopy(this.config.directives):[],l=this.config.name.toLowerCase?this.config.name.toLowerCase():this.config.name;if(l!==m.TAG_INPUT||a.type!==m.TYPE_RADIO&&a.type!==m.TYPE_CHECKBOX)t=this.config.hasOwnProperty("value")?_.isRefVal(this.config.value)?_.deepCopy(this.config.value):this.config.value:a.value,m.FORM_INPUTS.includes(l)?(d()(r,a),r.hasOwnProperty("value")&&delete r.value,d()(s,a),s.hasOwnProperty("value")&&delete s.value,i.value=t):(d()(r,a),r.hasOwnProperty("value")&&delete r.value,d()(s,a),s.value=t);else if(a.type===m.TYPE_RADIO)d()(r,a),this.config.hasOwnProperty("value")?r.checked=this.config.value===a.value:r.checked=!(!a.hasOwnProperty("checked")||!1===a.checked),d()(s,a),s.hasOwnProperty("checked")&&delete s.checked,i.checked=r.checked;else{var c=!1;c=this.config.hasOwnProperty("value")?_.isUndef(a.trueValue)?_.isUndef(a.falseValue)?!!this.config.value:this.config.value!==a.falseValue:this.config.value===a.trueValue:!(!a.hasOwnProperty("checked")||!1===a.checked),d()(r,a),r.checked=c,d()(s,a),s.hasOwnProperty("checked")&&delete s.checked,i.checked=r.checked}var h=e(this.config.name,{attrs:r,class:this.config.class,style:this.config.style,domProps:i,props:s,on:this.$data.emitOn,nativeOn:this.$data.nativeOn,directives:n,scopedSlots:{},ref:"__comTarget__"},this.config.text),p=h.componentOptions,u={},f=!(!p||!p.Ctor.options.props)&&p.Ctor.options.props;if(f&&o()(f).length&&o()(a).length){var v=o()(f);for(var g in a)v.includes(g)||(u[g]=a[g]);h.data&&(h.data.attrs=u)}return r=null,s=null,i=null,n=null,a=null,h},props:{config:{type:Object,required:!0,default:function(){return{name:""}}},info:{type:Object,required:!1,default:void 0}},data:function(){return{emitOn:null,nativeOn:null}},created:function(){this.initUi()},methods:{initUi:function(){this.createOn()},eventHandler:function(e,t){if(this.info){var a={value:_.deepCopy(this.config.value),event:t,pathKey:this.info.pathKey,index:this.info.index,idxChain:this.info.idxChain,target:this.$refs.__comTarget__},s=[],r=this.config.actions;if(r&&r.forEach(function(t){t.trigger&&t.trigger.includes(e)&&s.push(t.handler)}),s.length>0)this.__getForm()._handleEvents(s,a)}else this.$emit("trigger",e,t,this.$refs.__comTarget__)},__getForm:function(){for(var e=this.$parent;e;){var t=e._getType?e._getType():"";if(t==m.UI_FORM)return e;m.UI_ARRAY,e=e.$parent}},__parseInputEvent:function(e){var t;if(e&&e.target&&e.target.nodeName){var a,s=e.target.tagName,r=e.target.type;if(s.toLowerCase()===m.TAG_INPUT)r===m.TYPE_RADIO?(a=this.config.props?this.config.props:{},t=e.target.checked?a.value:void 0):r===m.TYPE_CHECKBOX?(a=this.config.props?this.config.props:{},e.target.checked?(t=!0,_.isUndef(a.trueValue)||(t=a.trueValue)):(t=!1,_.isUndef(a.falseValue)||(t=a.falseValue))):t=e.target.value;else t=e.target.value}else t=e;return t},createOn:function(){var e,t=this,a=this.config.hasOwnProperty("value");this.config.__emitEvents?(e=_.deepCopy(this.config.__emitEvents),a&&!e.includes(m.INPUT_EVENT)&&e.push(m.INPUT_EVENT)):e=a?[m.INPUT_EVENT]:[];var s={};if(e.forEach(function(e){e==m.INPUT_EVENT&&a?s[e]=function(a){var s=t.__parseInputEvent(a);t.config.value!==s&&(t.config.value=s,t.eventHandler(e,a))}:s[e]=function(a){t.eventHandler(e,a)}}),this.$data.emitOn=o()(s).length>0?s:null,this.config.__nativeEvents&&this.config.__nativeEvents.length>0){var r={};_.deepCopy(this.config.__nativeEvents).forEach(function(e){r[e]=function(a){t.eventHandler(e+"."+m.ADJ_NATIVE,a)}}),this.$data.nativeOn=o()(r).length>0?r:null}else this.$data.nativeOn=null}},destroyed:function(){},watch:{config:{handler:function(){this.initUi()},deep:!1}}},v={mixins:[h],data:function(){return{}},components:{esBase:f},methods:{}},g=(a(328),a(8)),y=Object(g.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-container"},[e._l(e.schema.properties,function(t,s){return[t.__groups?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.__hiddenGroup,expression:"!fieldSchema.__hiddenGroup"}],key:"groups-"+s,class:["es-form-object","es-col-"+t.__groupCol],style:{marginTop:t.rowSpace+"px",paddingLeft:t.offsetLeft+"px",paddingRight:t.offsetRight+"px"}},[e._l(t.__groups,function(t){return[e.schema.properties[t].component?[e.schema.properties[t].__creatable&&e.schema.properties[t].label&&!e.schema.properties[t].label.hidden?a("label",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden,expression:"!schema.properties[fieldKeyName].hidden"}],key:"label-"+t,class:["es-form-label-col",e.schema.properties[t].label.flex?"es-form-label-"+e.schema.properties[t].label.flex:"",e.schema.properties[t].label.align?"es-form-label-"+e.schema.properties[t].label.align:""],style:[{height:e.schema.properties[t].rowHeight+"px",lineHeight:e.schema.properties[t].rowHeight+"px",marginLeft:e.schema.properties[t].offsetLeft+"px"},e.schema.properties[t].label.flex?"":{width:e.schema.properties[t].labelWidth+"px"}]},[e.schema.properties[t].rules&&e.schema.properties[t].rules.required?a("span",{staticClass:"es-required"},[e._v("*")]):e._e(),e._v(" "),e.schema.properties[t].label.name?a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:e.schema.properties[t].label,info:e.schema.properties[t].__info}})],1):[a("span",[e._v(e._s(e.schema.properties[t].label.text))])],e._v(" "),e.schema.properties[t].label.help&&!e.schema.properties[t].label.help.hidden?a("span",{staticClass:"es-form-label-help"},[a("es-base",{attrs:{config:e.schema.properties[t].label.help,info:e.schema.properties[t].__info}})],1):e._e(),e._v(" "),e.schema.properties[t].colon?a("span",{staticClass:"es-form-colon"},[e._v(":")]):e._e()],2):e._e(),e._v(" "),e.schema.properties[t].__creatable?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden,expression:"!schema.properties[fieldKeyName].hidden"}],key:"content-"+t,staticClass:"es-form-comp-content",style:[{minHeight:e.schema.properties[t].rowHeight+"px",marginLeft:!(e.schema.properties[t].label&&!e.schema.properties[t].label.hidden)&&e.schema.properties[t].offsetLeft+"px",marginRight:e.schema.properties[t].offsetRight+"px"}]},[e._t(t,null,{schema:e.schema.properties[t]})],2):e._e(),e._v(" "),e.schema.properties[t].unit&&!e.schema.properties[t].unit.hidden&&e.schema.properties[t].__creatable?[e.schema.properties[t].unit.name?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden,expression:"!schema.properties[fieldKeyName].hidden"}],key:"unit-"+t,staticClass:"es-form-unit",style:[{height:e.schema.properties[t].rowHeight+"px"}]},[a("es-base",{attrs:{config:e.schema.properties[t].unit,info:e.schema.properties[t].__info}})],1):a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden&&e.schema.properties[t].unit.text,expression:"\n                !schema.properties[fieldKeyName].hidden &&\n                  schema.properties[fieldKeyName].unit.text\n              "}],key:"unit-"+t,staticClass:"es-form-unit",style:[{height:e.schema.properties[t].rowHeight+"px"}]},[e._v("\n              "+e._s(e.schema.properties[t].unit.text)+"\n            ")])]:e._e(),e._v(" "),e.schema.properties[t].help&&!e.schema.properties[t].help.hidden&&e.schema.properties[t].__creatable?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden,expression:"!schema.properties[fieldKeyName].hidden"}],key:"help-"+t,staticClass:"es-form-help",style:[{height:e.schema.properties[t].rowHeight+"px"}]},[a("es-base",{attrs:{config:e.schema.properties[t].help,info:e.schema.properties[t].__info}})],1):e._e()]:a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties[t].hidden,expression:"!schema.properties[fieldKeyName].hidden"}],key:t,class:["es-form-placeholder","es-col-"+e.schema.properties[t].col]})]})],2):t.__inGroups||t.layout&&"space"===t.layout.name?t.__inGroups||t.component?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!fieldSchema.hidden"}],key:s,class:["es-form-object","es-col-"+t.col],style:{marginTop:t.rowSpace+"px"}}):[t.__creatable?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!fieldSchema.hidden"}],key:s,class:["es-form-object","es-col-"+t.col,"v"==t.direction?"es-form-v":""],style:{marginTop:t.rowSpace+"px",paddingLeft:t.offsetLeft+"px",paddingRight:t.offsetRight+"px"}},[t.label&&!t.label.hidden?a("label",{class:["es-form-label-col","v"==t.direction?"es-form-label-col-v":"",t.label.flex?"es-form-label-"+t.label.flex:"",t.label.align?"es-form-label-"+t.label.align:""],style:"h"==t.direction?[{height:t.rowHeight+"px",lineHeight:t.rowHeight+"px"},t.label.flex?{}:{width:t.labelWidth+"px"}]:{}},[t.rules&&t.rules.required?a("span",{staticClass:"es-required"},[e._v("*")]):e._e(),e._v(" "),t.label.name?a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:t.label,info:t.__info}})],1):[a("span",[e._v(e._s("v"!=t.direction||t.label.text?t.label.text:" "))])],e._v(" "),t.label.help&&!t.label.help.hidden?a("span",{staticClass:"es-form-label-help"},[a("es-base",{attrs:{config:t.label.help,info:t.__info}})],1):e._e(),e._v(" "),t.colon?a("span",{staticClass:"es-form-colon"},[e._v(":")]):e._e()],2):e._e(),e._v(" "),a("div",{class:t.properties?"es-form-props-content":"es-form-comp-content",style:"h"==t.direction?[{minHeight:t.rowHeight+"px"}]:""},[e._t(s)],2)]):e._e()]]})],2)},[],!1,null,null,null).exports,b=(a(81),a(83),{data:function(){return{}},props:{canDelete:{type:Boolean,required:!1,default:!0},hasSort:{type:Boolean,required:!1,default:!1},isFirst:{type:Boolean,required:!1,default:!1},isLast:{type:Boolean,required:!1,default:!1},fixed:{type:Number,required:!1,default:0}},methods:{upItem:function(){this.isFirst||this.$emit("upItem",this.index)},downItem:function(){this.isLast||this.$emit("downItem",this.index)}}}),w={getPopUiInfo:function(e,t,a,s){var r=!1;switch(s){case"top":r=this.getTopCenter(e,t,a)||this.getRightCenter(e,t,a)||this.getBottomCenter(e,t,a)||this.getLeftCenter(e,t,a);break;case"right":r=this.getRightCenter(e,t,a)||this.getTopCenter(e,t,a)||this.getBottomCenter(e,t,a)||this.getLeftCenter(e,t,a);break;case"bottom":r=this.getBottomCenter(e,t,a)||this.getTopCenter(e,t,a)||this.getRightCenter(e,t,a)||this.getLeftCenter(e,t,a);break;case"left":r=this.getLeftCenter(e,t,a)||this.getTopCenter(e,t,a)||this.getRightCenter(e,t,a)||this.getBottomCenter(e,t,a);break;default:var i,n,o,l;if((i=this.getTopCenter(e,t,a))&&i.pointType==m.POINT_CENTER_CENTER)return i;if((n=this.getRightCenter(e,t,a))&&n.pointType==m.POINT_CENTER_CENTER)return n;if((o=this.getLeftCenter(e,t,a))&&o.pointType==m.POINT_CENTER_CENTER)return o;if((l=this.getLeftCenter(e,t,a))&&l.pointType==m.POINT_CENTER_CENTER)return l;if(i&&i.pointType==m.POINT_ARROW_CENTER)return i;if(n&&n.pointType==m.POINT_ARROW_CENTER)return n;if(o&&o.pointType==m.POINT_ARROW_CENTER)return o;if(l&&l.pointType==m.POINT_ARROW_CENTER)return l;if(i&&i.pointType==m.POINT_ARROW_OFFSET)return i;if(n&&n.pointType==m.POINT_ARROW_OFFSET)return n;if(o&&o.pointType==m.POINT_ARROW_OFFSET)return o;if(l&&l.pointType==m.POINT_ARROW_OFFSET)return l}return r},getWinSize:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.inneHeight||document.documentElement.clientHeight||document.body.clientHeight,scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},getTopCenter:function(e,t,a){var s,r,i,n=this.getWinSize(),o=t.top-a.betweenSpace-a.popArrowWH-e.height;if(o<a.viewSpace)return!1;var l=t.left+t.width/2-e.width/2;if(l<a.viewSpace||l+e.width+a.viewSpace>n.width){if(l<a.viewSpace){if((l=a.viewSpace)+e.width+a.viewSpace>n.width)return!1}else if((l=n.width-a.viewSpace-e.width)<a.viewSpace)return!1;i=m.POINT_ARROW_CENTER}else i=m.POINT_CENTER_CENTER;if((s=t.left+t.width/2-l-a.popArrowWH)<a.popBorderRadius||s>e.width-a.popBorderRadius-2*a.popArrowWH){var c=(s=s<a.popBorderRadius?a.popBorderRadius:e.width-a.popBorderRadius-2*a.popArrowWH)+l+a.popArrowWH;if(c<t.left||c>t.left+t.width)return!1;i=m.POINT_ARROW_OFFSET}return r=e.height,{popLeft:l+n.scrollLeft,popTop:o+n.scrollTop,arrowDirection:"bottom",arrowLeft:s,arrowTop:r,pointType:i}},getRightCenter:function(e,t,a){var s,r,i,n=this.getWinSize(),o=t.top+t.height/2-e.height/2;if(o<a.viewSpace||o+e.height+a.viewSpace>n.height){if(o<a.viewSpace){if((o=a.viewSpace)+e.height+a.viewSpace>n.height)return!1}else if((o=n.height-a.viewSpace-e.height)<a.viewSpace)return!1;i=m.POINT_ARROW_CENTER}else i=m.POINT_CENTER_CENTER;var l=t.left+t.width+a.betweenSpace+a.popArrowWH;if(l+e.width+a.viewSpace>n.width)return!1;if((r=t.top+t.height/2-o-a.popArrowWH)<a.popBorderRadius||r>e.height-a.popBorderRadius-2*a.popArrowWH){var c=(r=r<a.popBorderRadius?a.popBorderRadius:e.height-a.popBorderRadius-2*a.popArrowWH)+o+a.popArrowWH;if(c<t.top||c>t.top+t.height)return!1;i=m.POINT_ARROW_OFFSET}return s=-a.popArrowWH,{popLeft:l+n.scrollLeft,popTop:o+n.scrollTop,arrowDirection:"left",arrowLeft:s,arrowTop:r,pointType:i}},getBottomCenter:function(e,t,a){var s,r,i,n=this.getWinSize(),o=t.top+t.height+a.betweenSpace+a.popArrowWH;if(o+a.viewSpace+e.height>n.height)return!1;var l=t.left+t.width/2-e.width/2;if(l<a.viewSpace||l+e.width+a.viewSpace>n.width){if(l<a.viewSpace){if((l=a.viewSpace)+e.width+a.viewSpace>n.width)return!1}else if((l=n.width-a.viewSpace-e.width)<a.viewSpace)return!1;i=m.POINT_ARROW_CENTER}else i=m.POINT_CENTER_CENTER;if((s=t.left+t.width/2-l-a.popArrowWH)<a.popBorderRadius||s>e.width-a.popBorderRadius-2*a.popArrowWH){var c=(s=s<a.popBorderRadius?a.popBorderRadius:e.width-a.popBorderRadius-2*a.popArrowWH)+l+a.popArrowWH;if(c<t.left||c>t.left+t.width)return!1;i=m.POINT_ARROW_OFFSET}return r=-a.popArrowWH,{popLeft:l+n.scrollLeft,popTop:o+n.scrollTop,arrowDirection:"top",arrowLeft:s,arrowTop:r,pointType:i}},getLeftCenter:function(e,t,a){var s,r,i,n=this.getWinSize(),o=t.top+t.height/2-e.height/2;if(o<a.viewSpace||o+e.height+a.viewSpace>n.height){if(o<a.viewSpace){if((o=a.viewSpace)+e.height+a.viewSpace>n.height)return!1}else if((o=n.height-a.viewSpace-e.height)<a.viewSpace)return!1;i=m.POINT_ARROW_CENTER}else i=m.POINT_CENTER_CENTER;var l=t.left-a.betweenSpace-a.popArrowWH-e.width;if(l<a.viewSpace)return!1;if((r=t.top+t.height/2-o-a.popArrowWH)<a.popBorderRadius||r>e.height-a.popBorderRadius-2*a.popArrowWH){var c=(r=r<a.popBorderRadius?a.popBorderRadius:e.height-a.popBorderRadius-2*a.popArrowWH)+o+a.popArrowWH;if(c<t.top||c>t.top+t.height)return!1;i=m.POINT_ARROW_OFFSET}return s=e.width,{popLeft:l+n.scrollLeft,popTop:o+n.scrollTop,arrowDirection:"right",arrowLeft:s,arrowTop:r,pointType:i}},getMaxZIndex:function(){var e=this,t=document.all||document.querySelectorAll("*"),a=0;return t.forEach(function(t){var s=e.getAttrValue(t,"z-index");a=Math.max(a,s)}),a},getAttrValue:function(e,t){var a=0;if(1==e.nodeType){var s=window.getComputedStyle(e).getPropertyValue(t),r=(s+="").match(/^\d+$/i);r&&r[0]&&(a=Number(r[0]))}return a}},x={data:function(){return{showPop:!1,popDom:null,clickDocHandler:null,scrollWinHandler:null,placement:"bottom",popPosition:{left:0,top:0,zindex:1},popArrow:{direction:"",left:0,top:0},popInfo:{popBorderRadius:4,viewSpace:2,popArrowWH:6,betweenSpace:3}}},props:{hasDelete:{type:Boolean,required:!1,default:!1},hasDelWarn:{type:Boolean,required:!1,default:!0},index:{type:[Number,String],required:!1,default:-1}},computed:{canPop:function(){return this.hasDelWarn}},created:function(){var e=this;this.canPop&&(this.$data.clickDocHandler=function(t){e.isFromDelBtn(t.target)||(e.$data.showPop=!1,e.cancelDocListen())},this.$data.scrollWinHandler=function(){e.adjustPop()})},methods:{showPopHandler:function(){var e=this;this.$data.showPop=!this.$data.showPop,this.$data.showPop?(this.addPopDom(),this.setDocListen(),this.$data.popPosition.zindex=w.getMaxZIndex()+1,this.$nextTick(function(){e.adjustPop()})):this.cancelDocListen()},clickDeletBtn:function(){this.canPop&&this.hasDelWarn?this.showPopHandler():this.$emit("delItem",this.index)},clickPopConfirm:function(){this.$data.showPop=!1,this.$emit("delItem",this.index),this.cancelDocListen()},closePop:function(){this.$data.showPop=!1,this.cancelDocListen()},setDocListen:function(){window.addEventListener("scroll",this.$data.scrollWinHandler,!0),document.addEventListener("click",this.$data.clickDocHandler)},cancelDocListen:function(){document.removeEventListener("click",this.$data.clickDocHandler),window.removeEventListener("scroll",this.$data.scrollWinHandler,!0)},isFromDelBtn:function(e){var t=this.$refs.delBtn;if(!this.$refs.delBtn)return!1;for(t=t.$el?t.$el:t;e;){if(e==t)return!0;e=e.parentNode}return!1},adjustPop:function(){var e=this.$refs.pop,t=this.$refs.delBtn.$el?this.$refs.delBtn.$el:this.$refs.delBtn,a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=w.getPopUiInfo(a,s,this.$data.popInfo,this.$data.placement);r?(this.$data.popPosition={left:r.popLeft,top:r.popTop},this.$data.popArrow={direction:r.arrowDirection,left:r.arrowLeft,top:r.arrowTop}):this.closePop()},addPopDom:function(){this.$data.popDom||(this.$data.popDom=this.$refs.pop,document.body.appendChild(this.$data.popDom))},removePopDom:function(){this.$data.popDom&&(document.body.removeChild(this.$data.popDom),this.$data.popDom=null)}},destroyed:function(){(this.$data.scrollWinHandler||this.$data.clickDocHandler)&&(this.$data.showPop=!1,this.cancelDocListen(),this.$data.clickDocHandler=null,this.$data.scrollWinHandler=null),this.removePopDom()}},C={data:function(){return{}},props:{disabled:{type:Boolean,required:!1,default:!1}},methods:{clickHandler:function(e){this.disabled||this.$emit("click",e)}}},E=Object(g.a)(C,function(){var e=this.$createElement;return(this._self._c||e)("button",{class:["es-btn",this.disabled?"disabled":""],on:{click:this.clickHandler}},[this._t("default")],2)},[],!1,null,null,null).exports,S={data:function(){return{}},props:{disabled:{type:Boolean,required:!1,default:!1}},methods:{clickHandler:function(e){this.disabled||this.$emit("click",e)}}},A=Object(g.a)(S,function(){var e=this.$createElement;return(this._self._c||e)("button",{class:[this.disabled?"disabled":""],on:{click:this.clickHandler}},[this._t("default")],2)},[],!1,null,null,null).exports,T={mixins:[b,x],components:{esBtn:E,esTabsBtn:A},data:function(){return{placement:"top",popInfo:{popBorderRadius:4,viewSpace:2,popArrowWH:6,betweenSpace:6}}},props:{isActive:{type:Boolean,required:!0,default:!1},hasError:{type:Boolean,required:!1,default:!1}},methods:{clickCntHandler:function(e){this.isActive||this.isFromDelBtn(e.target)||this.$emit("clickActive",this.index)}},mounted:function(){},beforeDestroy:function(){}},I=Object(g.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{class:{"is-active":e.isActive,"has-close":e.hasDelete,"has-pop":e.showPop}},[a("div",{class:{"es-tabs-nav-item-cnt":!0,"es-error":e.hasError},on:{click:e.clickCntHandler}},[a("div",[e._t("default")],2),e._v(" "),e.hasDelete?a("div",{staticClass:"es-tabs-close-box"},[a("es-tabs-btn",{ref:"delBtn",staticClass:"es-tabs-close",attrs:{disabled:e.index+1<=e.fixed||!e.canDelete},on:{click:e.clickDeletBtn}}),e._v(" "),e.canPop?a("transition",{attrs:{name:"es-fade",mode:"out-in",appear:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],ref:"pop",staticClass:"es-form-pop-box",style:{left:e.popPosition.left+"px",top:e.popPosition.top+"px",zIndex:e.popPosition.zindex+""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[a("div",{staticClass:"es-form-pop-content"},[a("div",[e._v("确定删除吗？")]),e._v(" "),a("div",{staticClass:"es-btn-row"},[a("div",{staticClass:"es-btn-group"},[a("es-btn",{staticClass:"es-btn",on:{click:e.clickPopConfirm}},[e._v("\n                  确定\n                ")]),e._v(" "),a("es-btn",{staticClass:"es-btn",on:{click:e.closePop}},[e._v("\n                  取消\n                ")])],1)])]),e._v(" "),e.popArrow.direction?a("div",{class:"es-pop-arrow-"+e.popArrow.direction,style:{left:e.popArrow.left+"px",top:e.popArrow.top+"px"}}):e._e()])]):e._e()],1):e._e()]),e._v(" "),e.hasSort?a("es-tabs-btn",{staticClass:"es-tabs-left-btn",attrs:{disabled:e.isFirst||e.index<=e.fixed},on:{click:e.upItem}},[a("span",{staticClass:"es-arrow"})]):e._e(),e._v(" "),e.hasSort?a("es-tabs-btn",{staticClass:"es-tabs-right-btn",attrs:{disabled:e.isLast||e.index<e.fixed},on:{click:e.downItem}},[a("span",{staticClass:"es-arrow"})]):e._e()],1)},[],!1,null,null,null).exports,O={__INTERVAL:50,__listeners:[],__observer:null,__resizeWinHandler:null,__throttleTimer:null,add:function(e){_.isFunc(e)?this.__listeners.length<=0?(this.__listeners.push(e),this.__start()):this.__listeners.includes(e)||this.__listeners.push(e):console.warn("tabsObserver.add(callback)中callback不是一个函数")},remove:function(e){var t=this.__listeners.indexOf(e);t>=0&&(this.__listeners.splice(t,1),this.__listeners.length<=0&&this.__stop())},__observerHandler:function(e){this.__listeners.forEach(function(t){t(e)})},__start:function(){var e=this;if(this.__observer)return!0;this.__resizeWinHandler=function(){e.__throttleTimer||(e.__throttleTimer=setTimeout(function(){e.__throttleTimer=null,e.__observerHandler()},e.__INTERVAL))},window.addEventListener("resize",this.__resizeWinHandler,!0);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.__observer=new t(function(t){e.__observerHandler(t)}),this.__observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0})},__stop:function(){this.__observer&&(this.__observer.disconnect(),this.__observer.takeRecords(),this.__observer=null),this.__resizeWinHandler&&(window.removeEventListener("resize",this.__resizeWinHandler,!0),this.__resizeWinHandler=null),this.__throttleTimer&&(clearTimeout(this.__throttleTimer),this.__throttleTimer=null)}},P={components:{esTabsNavItem:I,esTabsBtn:A},props:{hasAdd:{type:Boolean,required:!1,default:!1},canAdd:{type:Boolean,required:!1,default:!1},type:{type:[String,Boolean],required:!1,default:""}},computed:{boxClass:function(){var e=["es-tabs-nav-box"];switch(this.type){case"bg":e.push("es-type-border-card");break;case"line":e.push("es-type-line");break;case"card":default:e.push("es-type-card")}return e}},data:function(){return{showToggle:!1,navX:0,toggleZoneWidth:20,lockObserver:!1,oldRecord:{mainWidth:0,navWidth:0}}},mounted:function(){var e=this,t=this.$refs.scrollWrap,a=this.$refs.scrollBox;this.$data.navBox=t,this.$data.navWrap=t.parentNode.parentNode,this.$data.mainScrollBox=a,this.$data.fromAdd=!1,this.$data.resizeCallback=function(t){var a=!0;if(e.$data.lockObserver)a=!1;else if(t&&1==t.length){var s=t[0];s.target==e.$data.navBox&&"attributes"==s.type&&"style"==s.attributeName&&(a=!1)}a&&e.resizeHandler(0)},O.add(this.$data.resizeCallback),this.resizeHandler()},methods:{addItemHandler:function(){this.$data.fromAdd=!0,this.$emit("addItem")},resizeHandler:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this.getAttrValue(this.$data.mainScrollBox,"width"),s=this.getAttrValue(this.$data.navBox,"width");if(a<=0&&s<=0)return!1;if(0==t&&a===this.oldRecord.mainWidth&&s===this.oldRecord.navWidth)return this.$data.fromAdd=!1,!1;var r,i=this.getAttrValue(this.$data.navWrap,"padding-right"),n=0,o=!1;if(a<s+0+i)if(this.$data.showToggle=!0,n=2*this.$data.toggleZoneWidth,r=Math.floor(a-0-i-s-n),this.$data.fromAdd)o>0&&(r=0),o=r;else if(0==t)this.$data.navX<r&&(o=r);else{var l=a-0-i-n;(o=t<0?this.$data.navX+l:this.$data.navX-l)>0?o=0:o<r&&(o=r)}else 0!=this.$data.showToggle&&(this.$data.showToggle=!1),0!=this.$data.navX&&(o=0);this.oldRecord={mainWidth:a,navWidth:s},this.$data.fromAdd=!1,!1!==o&&(this.$data.lockObserver=!0,this.$nextTick(function(){e.$data.lockObserver=!1,e.$data.navX=o}))},clickPrevHandler:function(){this.$data.showToggle&&this.resizeHandler(-1)},clickNextHandler:function(){this.$data.showToggle&&this.resizeHandler(1)},getAttrValue:function(e,t){var a=window.getComputedStyle(e).getPropertyValue(t||"width").match(/^(\d*(\.\d+)?)\s*px$/i),s=0;return a&&a[1]&&(s=Number(a[1])),s}},beforeDestroy:function(){O.remove(this.$data.resizeCallback),this.$data.navBox=null,this.$data.navWrap=null,this.$data.mainScrollBox=null,this.$data.fromAdd=!1}},R=(a(331),Object(g.a)(P,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.boxClass},[a("div",{ref:"scrollBox",staticClass:"es-tabs-scroll-box"},[a("div",{class:["es-tabs-scroll-wrap",e.showToggle?"es-has-toggle":""],style:{padding:e.showToggle?"0 "+e.toggleZoneWidth+"px":"0"}},[a("div",{class:["es-tabs-nav-wrap",e.hasAdd?"es-has-add":""]},[a("div",{staticClass:"es-tabs-nav-scroll"},[a("ul",{ref:"scrollWrap",staticClass:"es-tabs-nav",style:{left:e.navX+"px"}},[e._t("default")],2)]),e._v(" "),e.hasAdd?a("es-tabs-btn",{staticClass:"es-tabs-add es-btn",attrs:{disabled:e.canAdd},on:{click:e.addItemHandler}}):e._e()],1),e._v(" "),a("span",{staticClass:"es-tabs-prev-btn",on:{click:e.clickPrevHandler}},[a("span",{staticClass:"es-arrow"})]),e._v(" "),a("span",{staticClass:"es-tabs-next-btn",on:{click:e.clickNextHandler}},[a("span",{staticClass:"es-arrow"})])])]),e._v(" "),a("div",{staticClass:"help-box"},[e._t("help")],2)])},[],!1,null,null,null).exports),k={mixins:[h],components:{esTabsNav:R,esTabsNavItem:I,esBase:f},data:function(){return{}},methods:{clickActiveHandler:function(e){this.__getForm()._toggleUi("tabs",{key:this.schema.__info.pathKey,index:e})},__getForm:function(){for(var e=this.$parent;e;){var t=e._getType?e._getType():"";if(t==m.UI_FORM)return e;m.UI_ARRAY,e=e.$parent}}},created:function(){},mounted:function(){},beforeDestroy:function(){}},L=(a(332),Object(g.a)(k,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-layout-tabs"},[a("es-tabs-nav",{attrs:{type:e.schema.layout.type}},[e._l(e.schema.properties,function(t,s){return[t.hidden?e._e():a("es-tabs-nav-item",{key:s,attrs:{required:t.rules&&t.rules.required,"is-active":s===e.schema.__tabsIndex,"has-error":t.__hasError,index:s},on:{clickActive:e.clickActiveHandler}},[a("div",{staticClass:"es-tabs-item-label"},[t.rules&&t.rules.required?a("span",{staticClass:"es-required"},[e._v("*")]):e._e(),e._v(" "),t.label&&!t.label.hidden?[t.label.name?a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:t.label,info:t.__info}})],1):a("span",[e._v(e._s(t.label.text?t.label.text:s+""))]),e._v(" "),t.label.help&&!t.label.help.hidden?a("span",{staticClass:"es-form-label-help"},[a("es-base",{attrs:{config:t.label.help,info:t.__info}})],1):e._e()]:a("span",[e._v(e._s(s+""))])],2)])]})],2),e._v(" "),a("ul",{staticClass:"es-tabs-body",style:{padding:e.schema.layout.hasBorder?e.schema.layout.padding?e.schema.layout.padding:Math.min(e.schema.ui.rowSpace,10)+"px":e.schema.layout.padding?e.schema.layout.padding:Math.min(e.schema.ui.rowSpace,10)+"px 0 0 0","border-width":e.schema.layout.hasBorder?"1px":"0px"}},[e._l(e.schema.properties,function(t,s){return[t.__creatable?a("li",{directives:[{name:"show",rawName:"v-show",value:s===e.schema.__tabsIndex&&!t.hidden,expression:"fieldName === schema.__tabsIndex && !itemSchema.hidden"}],key:s},[e._t(s)],2):e._e()]})],2)],1)},[],!1,null,null,null).exports),$=a(185),B=a.n($),D={isEsOrFunc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"es:";return!!_.isFunc(e)||this.isEsScript(e,t)},getStaticKey:function(e){for(var t=m.PREFIX_STATIC_FUNC,a=0;a<t.length;a++){var s=t[a];if(0===e.indexOf(s))return e.substr(s.length)}return!1},isEsScript:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"es:";if(_.isStr(e)){if(0===e.indexOf(t)){var a=e.substr(t.length);return!(!a||!a.trim())}return!1}return!1},smartEsValue:function(e,t){if(_.isFunc(e))return e(e.__esFuncName===m.ES_FUNC_NAME?{global:t.global,rootData:t.rootData,idxChains:t.idxChain?t.idxChain.split(","):[],index:t.index,rootSchema:t.rootSchema,isHidden:t.isHidden}:{global:t.global,rootData:t.rootData,idxChain:t.idxChain,index:t.index,pathKey:t.pathKey,$hidden:t.isHidden});if(D.isEsScript(e))throw"还有es: parse ....: "+e;return e},newEsFuncion:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"es:";if(D.isEsScript(e)){var s=[{symbol:"$global",paramKey:"global"},{symbol:"$root",paramKey:"rootData"},{symbol:"$index",paramKey:"index"}];e=(e=e.substring(a.length)).trim();var r=/\{{(\s*\$hidden\()(.+?)(\)\s*}})/gi,i=null,n="",o="",l="",c="",h=0;i=r.exec(e);for(var p=function(){n=i[0],o=(o=(o=(o=(o=i[2]).trim()).replace(/^('|")|('|")$/g,"")).trim()).replace(/^\$root(\.)?/g,"");var t=(o=D.chainPathKey(o,"[i]")).split("[i]"),a=t.length,s="";t.forEach(function(e,t){s+=t<a-1?e+"[' + (".concat(m.ES_OPTIONS,".idxChains[")+t+"]) + ']":e}),o=s,l="".concat(m.ES_OPTIONS)+".isHidden('"+o+"')",c+=e.slice(h,r.lastIndex-n.length)+l,h=r.lastIndex,i=r.exec(e)};i;)p();((c+=e.slice(h)).match(/\{{.*?}}/g)||[]).forEach(function(e){var t=D.chainPathKey(e,"[i]"),a="",r=t.split("[i]"),i=r.length;r.forEach(function(e,t){a+=t<i-1?e+"[(".concat(m.ES_OPTIONS,".idxChains[")+t+"])]":e}),s.forEach(function(e){a=a.replace(new RegExp("\\{{\\s*\\".concat(e.symbol,"(\\.\\S*)?\\s*}}")),"".concat(m.ES_OPTIONS,"['").concat(e.paramKey,"']$1"))}),c=c.replace(e,a)}),c="return ("+c+");",(t=new Function(m.ES_OPTIONS,c)).__esFuncName=m.ES_FUNC_NAME}else t=e;return t},chainPathKey:function(e,t){var a,s=e.replace(/\(|\)/g,"");if(e.indexOf("[")>=0){var r,i=/\[('|")?(.+?)\1\]/g,n=0;a="";var o=/^\d+$/;for(r=i.exec(s);r;){var l=r[0],c=r[2].trim();a+=s.substr(n,r.index-n),t!=l?o.test(c)?a+="["+c+"]":a+="."+c:a+=l,n=r.index+l.length,r=i.exec(s)}a+=s.substr(n)}else a=s;return a}},N=D,V={isEmpty:function(e){return!!(_.isUndef(e)||_.isNull(e)||_.isStr(e)&&!e||_.isObj(e)&&o()(e).length<=0||_.isArr(e)&&e.length<=0)},setValue:function(e,t){this.__setValue(e,t)},__setValue:function(e,t){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.array){if(!_.isArr(t))return!0;var r=!1,i=e.__propSchemaList;if(i.length>t.length)i=i.splice(0,t.length),e.__propSchemaList=i;else{for(var n=i.length;n<t.length;n++)this.addArrayItem(e);r=!0}for(var o=!(!r&&!s),l=0;l<t.length;l++)this.__setValue(i[l],t[l],o);return r&&!s&&this.resetIndexArr(e,e.__info.idxChain,e.__info.pathKey),!0}if(e.component)a=e.format?this.getFormatValue(e.format,t,!0):t,e.component.value=a;else if(e.properties&&_.isObj(t))for(var c in e.properties)t.hasOwnProperty(c)&&this.__setValue(e.properties[c],t[c],s)},addArrayItem:function(e,t){var a={},s=["array","__propSchemaList","desc","help","hidden","__rawHidden","__creatable","label","title","isTmp"];for(var r in e)s.includes(r)||(a[r]=_.deepCopy(e[r]));a.hasOwnProperty("__invalidMsg")&&(a.__invalidMsg=!1),_.isUndef(e.array.subLabel)||(a.subLabel=_.deepCopy(e.array.subLabel)),e.layout&&e.layout.name==m.LAYOUT_TABS&&(a.__tabsIndex=!1),a.array&&(a.array=!1),t?(this.__setValue(a,t.value),e.__propSchemaList.length<=t.position?e.__propSchemaList.push(a):e.__propSchemaList.splice(t.position,0,a)):e.__propSchemaList.push(a)},resetIndexArr:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e.array){e.__info.idxChain!=t&&(e.__info.idxChain=t),e.__info.pathKey!=a&&(e.__info.pathKey=a);for(var i=e.__propSchemaList,n=0;n<i.length;n++){var o=t?t+","+n:""+n,l=a+"["+n+"]";this.resetIndexArr(i[n],o,l,n,!0)}return!0}if(e.component)e.__info.idxChain!=t&&(e.__info.idxChain=t),e.__info.pathKey!=a&&(e.__info.pathKey=a),e.__info.index!=s&&(e.__info.index=s);else if(e.properties)for(var c in e.__info.idxChain!=t&&(e.__info.idxChain=t),e.__info.pathKey!=a&&(e.__info.pathKey=a),e.__info.index!=s&&(e.__info.index=s),e.properties)this.resetIndexArr(e.properties[c],t,a+"."+c,r?s:-1,!1);else e.__info.idxChain!=t&&(e.__info.idxChain=t),e.__info.pathKey!=a&&(e.__info.pathKey=a),e.__info.index!=s&&(e.__info.index=s)},getTabsIndex:function(e,t){var a=this.__getSchemaByKey(e,t);return!!a&&(a.layout&&a.layout.name===m.LAYOUT_TABS?a.__tabsIndex:!(!a.array||a.array.name!==m.ARRAY_TABS)&&a.__tabsIndex)},togglePropBody:function(e,t){var a=this.__getSchemaByKey(e,t);a&&a.ui&&(a.ui.showBody=!a.ui.showBody)},setTabsIndex:function(e,t,a){var s=this.__getSchemaByKey(e,t);s&&this.__isRightTabsIndex(s,a)&&(s.__tabsIndex=a,s.array&&s.array.name===m.ARRAY_TABS?_.isNum(a)&&s.__propSchemaList[a].__hasError&&(s.__propSchemaList[a].__hasError=!1):s.layout&&s.layout.name===m.LAYOUT_TABS&&s.properties[a].__hasError&&(s.properties[a].__hasError=!1))},__isRightTabsIndex:function(e,t){var a,s;if(e.array&&e.array.name===m.ARRAY_TABS){if(_.isNum(t)){var r=Math.floor(t);if(r===t&&r>=0&&r<e.__propSchemaList.length)return!0}}else if(e.layout&&e.layout.name===m.LAYOUT_TABS)for(s in e.properties)if(a=e.properties[s],s==t&&!a.hidden)return!0;return!1},getSchemaByKey:function(e,t){return this.__getSchemaByKey(e,t)},__getSchemaByKey:function(e,t){if(!_.isStr(t))return!1;if(!t)return e;for(var a,s=t.split("."),r=e,i=/([\s\S]+?)\[(\d+)\]$/,n=0;n<s.length;n++){if(!r)return!1;if(!(a=r.properties)||r.array)return!1;var o=s[n],l=o.match(i),c=n==s.length-1,h=o;if(l){h=l[1];var p=B()(l[2]);if(!(r=a[h]))return!1;if(c)return!!r.array&&(!!(r.__propSchemaList&&r.__propSchemaList.length>p)&&r.__propSchemaList[p]);if(!r.array)return!1;if(!(r.__propSchemaList&&r.__propSchemaList.length>p))return!1;r=r.__propSchemaList[p]}else{if(!(r=a[h]))return!1;if(c)return r;if(r.array)return!1}}},setValueByKey:function(e,t,a){var s,r=this.__getSchemaByKey(e,t);r&&(r.component?r.array?(_.isArr(a)||_.isNull(a))&&this.setValue(r,a||[]):(s=r.format?this.getFormatValue(r.format,a,!0):a,r.component.value=s):r.properties&&(r.array?(_.isArr(a)||_.isNull(a))&&this.setValue(r,a||[]):_.isObj(a)&&this.setValue(r,a)))},getValue:function(e){return this.__getValue(e)},getResultValue:function(e,t){if(_.isObj(t.rootData)){var a=this.__getValue(e,t);return this.__tileResultValue(e,a)}throw"getResultValue： formData 必须是一个对象"},__getValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=d()({},t);s.index=e.__info.index,s.idxChain=e.__info.idxChain,s.pathKey=e.__info.pathKey;var r,i,n,o,l,c=t.rootData,h=!(!c||!a&&!e.hidden);if(e.component){if(e.array){for(n=[],l=e.__propSchemaList,o=0;o<l.length;o++)r=this.__getValue(l[o],t,h),n.push(r);return n}return c&&e.format?this.getFormatValue(e.format,e.component.value,!1):e.component.value}if(e.properties){if(e.array){for(n=[],l=e.__propSchemaList,o=0;o<l.length;o++)r=this.__getValue(l[o],t,h),n.push(r);return n}for(var p in r={},e.properties){var u=e.properties[p];if(!u.layout||u.layout.name!==m.LAYOUT_SPACE)if(!c||!u.isTmp)!(!c||!h&&!u.hidden)?_.isUndef(u.hdValue)||(_.isNull(u.hdValue)?(i=this.__getValue(u,t,h),r[p]=i):u.format?r[p]=this.getFormatValue(u.format,u.hdValue,!1):r[p]=u.hdValue):(i=this.__getValue(u,t,h),r[p]=i)}return r}},getFormatValue:function(e,t){var a,s,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(r){if(_.isArr(e)){for(s=0;s<e.length;s++)if((a=e[s]).outer==t)return a.inner}else if(_.isFunc(e.outer))return e.outer(t)}else if(_.isArr(e)){for(s=0;s<e.length;s++)if((a=e[s]).inner==t)return a.outer}else if(_.isFunc(e.inner))return e.inner(t);return t},clearErrorMsg:function(e){if(_.isUndef(e.__invalidMsg)||(e.__invalidMsg=!1),e.component);else if(e.properties)if(e.array)for(var t=e.__propSchemaList,a=0;a<t.length;a++)this.clearErrorMsg(t[a]);else for(var s in e.properties)this.clearErrorMsg(e.properties[s])},analyzeUiProps:function(e,t){var a,s,r,i,n,o=0,l=d()({},t);if(l.index=e.__info.index,l.idxChain=e.__info.idxChain,l.pathKey=e.__info.pathKey,e.component)if(e.__rawHidden&&(a=N.smartEsValue(e.__rawHidden,l),e.hidden!=a&&(e.hidden=a)),!e.hasOwnProperty("__creatable")||e.hidden||e.__creatable||(e.__creatable=!0),e.label&&(this.__esParseComponent(e.label,l),e.label.help&&this.__esParseComponent(e.label.help,l)),e.desc&&this.__esParseComponent(e.desc,l),e.unit&&this.__esParseComponent(e.unit,l),e.help&&this.__esParseComponent(e.help,l),e.array){for(i=e.__propSchemaList,n=0;n<i.length;n++)this.analyzeUiProps(i[n],t);e.array.name==m.ARRAY_TABS&&((r=e.__propSchemaList.length)>0?!1===e.__tabsIndex?e.__tabsIndex=0:(e.__tabsIndex<0||e.__tabsIndex>=r-1)&&(e.__tabsIndex=r-1):!1!==e.__tabsIndex&&(e.__tabsIndex=!1))}else e.rules&&e.rules.__rawRequired&&(s=N.smartEsValue(e.rules.__rawRequired,l),e.rules.required!=s&&(e.rules.required=s)),this.__esParseComponent(e.component,l);else if(e.properties)if(e.__rawHidden&&(a=N.smartEsValue(e.__rawHidden,l),e.hidden!=a&&(e.hidden=a)),!e.hasOwnProperty("__creatable")||e.hidden||e.__creatable||(e.__creatable=!0),e.title&&(this.__esParseComponent(e.title,l),e.title.help&&this.__esParseComponent(e.title.help,l)),e.label&&(this.__esParseComponent(e.label,l),e.label.help&&this.__esParseComponent(e.label.help,l)),e.desc&&this.__esParseComponent(e.desc,l),e.unit&&this.__esParseComponent(e.unit,l),e.help&&this.__esParseComponent(e.help,l),e.subLabel&&this.__esParseComponent(e.subLabel,l),e.array){for(i=e.__propSchemaList,n=0;n<i.length;n++)this.analyzeUiProps(i[n],t);e.array.name==m.ARRAY_TABS&&((r=e.__propSchemaList.length)>0?!1===e.__tabsIndex?e.__tabsIndex=0:(e.__tabsIndex<0||e.__tabsIndex>=r-1)&&(e.__tabsIndex=r-1):!1!==e.__tabsIndex&&(e.__tabsIndex=!1))}else{var c,h;if(e.layout&&e.layout.name==m.LAYOUT_TABS){for(h in e.properties)c=e.properties[h],this.analyzeUiProps(c,t);if(!1===e.__tabsIndex){for(h in e.properties)if(!(c=e.properties[h]).hidden){e.__tabsIndex=h;break}}else if(e.properties[e.__tabsIndex].hidden){var p=[];for(h in e.properties)c=e.properties[h],h===e.__tabsIndex?p.push(h):c.hidden||p.push(h);if(p.length>1){var u=p.indexOf(e.__tabsIndex);u<p.length-1?e.__tabsIndex=p[u+1]:e.__tabsIndex=p[u-1]}else e.__tabsIndex=!1}}else{var _;for(h in o=0,e.properties){if((c=e.properties[h]).__groups)(a=this.__isGroupHidden(e,c.__groups,t))||(_=(o+=c.__groupCol)<=m.UI_MAX_COL?0:c.__rawRowSpace,c.rowSpace!=_&&(c.rowSpace=_)),c.__hiddenGroup!=a&&(c.__hiddenGroup=a);else if(c.__inGroups)0!=c.rowSpace&&(c.rowSpace=0);else{var f=d()({},t);f.index=c.__info.index,f.idxChain=c.__info.idxChain,f.pathKey=c.__info.pathKey,(a=N.smartEsValue(c.__rawHidden,f))||(_=(o+=c.col)<=m.UI_MAX_COL?0:c.__rawRowSpace,c.rowSpace!=_&&(c.rowSpace=_))}this.analyzeUiProps(c,t)}}}else e.__rawHidden&&(a=N.smartEsValue(e.__rawHidden,l),e.hidden!=a&&(e.hidden=a)),!e.hasOwnProperty("__creatable")||e.hidden||e.__creatable||(e.__creatable=!0)},__esParseComponent:function(e,t){var a,s,r,i,n;if(e.__rawHidden&&(a=N.smartEsValue(e.__rawHidden,t),e.hidden!=a&&(e.hidden=a)),e.name){if(e.__rawProps){var o=e.props,l=e.__rawProps,c=e.__staticPropNames;for(var h in c=c||[],l)s=c.includes(h)?l[h]:N.smartEsValue(l[h],t),o[h]!==s&&(o[h]=s)}if(e.__rawDirectives)for(var p=e.directives,d=e.__rawDirectives,u=0;u<d.length;u++){var m=d[u];(n=N.smartEsValue(m.value,t))!==p[u].value&&(p[u].value=n)}e.__rawStyle&&(r=N.smartEsValue(e.__rawStyle,t))!==e.style&&(e.style=r),e.__rawClass&&(i=N.smartEsValue(e.__rawClass,t))!==e.class&&(e.class=i)}e.__rawText&&(s=N.smartEsValue(e.__rawText,t),(s=_.isStr(s)?s:void 0)!==e.text&&(e.text=s))},__isGroupHidden:function(e,t,a){for(var s=!1,r=0;r<t.length;r++){var i=t[r],n=e.properties[i];if(n.layout&&n.layout.name===m.LAYOUT_SPACE)s=!0;else{var o=d()({},a);o.index=n.__info.index,o.idxChain=n.__info.idxChain,o.pathKey=n.__info.pathKey,s=N.smartEsValue(n.__rawHidden,o)}if(!s)return s}return s},perfectTileValue:function(e,t){if(e.autoMatch&&t){if(_.isStr(t))return this.__perfectTileKey(e,t);if(_.isObj(t)){var a={};for(var s in t){var r=this.__perfectTileKey(e,s);if(r.indexOf(".")>0){var i=r.split("."),n=i[0],o=i[1];a[n]||(_.isObj(t[n])?a[n]=t[n]:a[n]={}),a[n][o]=t[o]}else a[s]=t[s]}return a}return t}return t},__perfectTileKey:function(e,t){var a=t.split("."),s=a[0],r=e.properties;for(var i in r){if(i===s)return t;var n=r[i];if(n.properties&&!n.array){var o=n.properties;for(var l in o)if(l===s)return a.unshift(i),a.join(".")}}return t},__tileResultValue:function(e,t){if(e.autoMatch){var a={},s=e.properties;for(var r in t){var i=s[r];i.properties&&!i.array?a=d()(a,t[r]):a[r]=t[r]}return a}return t}},H={created:function(){},data:function(){return{}},methods:{addItem:function(){this.__addItem()},copyItem:function(e){this.__addItem(e)},delItem:function(e){if(e>=0&&e<this.schema.__propSchemaList.length){var t=V.getValue(this.schema);this.schema.__propSchemaList.splice(e,1),V.resetIndexArr(this.schema,this.schema.__info.idxChain,this.schema.__info.pathKey);var a={type:"delete",index:e,data:_.deepCopy(t[e])},s=V.getValue(this.schema);this.$emit("input",s,a)}},delAllItems:function(){if(this.schema.__propSchemaList.length>0){var e=V.getValue(this.schema);this.schema.__propSchemaList=[];var t={type:"deleteAll",index:-1,data:e},a=V.getValue(this.schema);this.$emit("input",a,t)}},upItem:function(e){if(e>0&&e<this.schema.__propSchemaList.length){this.schema.__propSchemaList.splice(e-1,0,this.schema.__propSchemaList.splice(e,1)[0]),V.resetIndexArr(this.schema,this.schema.__info.idxChain,this.schema.__info.pathKey);var t={type:"up",index:e},a=V.getValue(this.schema);this.$emit("input",a,t)}},downItem:function(e){if(e>=0&&e<this.schema.__propSchemaList.length-1){this.schema.__propSchemaList.splice(e+1,0,this.schema.__propSchemaList.splice(e,1)[0]),V.resetIndexArr(this.schema,this.schema.__info.idxChain,this.schema.__info.pathKey);var t={type:"down",index:e},a=V.getValue(this.schema);this.$emit("input",a,t)}},__addItem:function(e){var t,a,s=!1;t=V.getValue(this.schema);var r=_.isNum(e);a=r?e+1:this.schema.__propSchemaList.length;var i=this.schema.array.insertValue;if(_.isUndef(i))r&&(s={value:_.deepCopy(t[e]),position:a});else if(_.isFunc(i)){var n=this.__getForm(),o=_.deepCopy(t[e]),l={oldValues:t,position:a,type:r?"copy":"add"},c=i.call(n,l);l=null,s=_.isUndef(c)?!!r&&{value:o,position:a}:{value:c,position:a}}else s={value:_.deepCopy(i),position:a};V.addArrayItem(this.schema,s),V.resetIndexArr(this.schema,this.schema.__info.idxChain,this.schema.__info.pathKey);var h=V.getValue(this.schema),p=r?e:this.schema.__propSchemaList.length-1,d={type:r?"copy":"add",index:p,data:_.deepCopy(h[p])};this.$emit("input",h,d)},__getForm:function(){for(var e=this.$parent;e;){var t=e._getType?e._getType():"";if(t==m.UI_FORM)return e;m.UI_ARRAY,e=e.$parent}}}},M={mixins:[x],components:{esBtn:E},data:function(){return{}},props:{canDelete:{type:Boolean,required:!1,default:!0},hasSort:{type:Boolean,required:!1,default:!0},isFirst:{type:Boolean,required:!1,default:!1},isLast:{type:Boolean,required:!1,default:!1},fixed:{type:Number,required:!0,default:0},index:{type:Number,required:!0,default:0},canAdd:{type:Boolean,required:!1,default:!0},hasAdd:{type:Boolean,required:!1,default:!1}},methods:{upItem:function(){this.isFirst||this.$emit("upItem",this.index)},copyItem:function(){this.$emit("copyItem",this.index)},downItem:function(){this.isLast||this.$emit("downItem",this.index)}}},j=(a(333),Object(g.a)(M,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-edit-btns"},[a("div",{staticClass:"es-btn-group"},[e.hasDelete?a("es-btn",{ref:"delBtn",attrs:{disabled:e.index+1<=e.fixed||!e.canDelete},on:{click:e.clickDeletBtn}},[a("div",{staticClass:"es-circle-delete"})]):e._e(),e._v(" "),e.hasAdd?a("es-btn",{attrs:{disabled:!e.canAdd},on:{click:e.copyItem}},[a("div",{staticClass:"es-normal-plus"})]):e._e(),e._v(" "),e.hasSort?a("es-btn",{attrs:{disabled:e.isFirst||e.index<=e.fixed},on:{click:e.upItem}},[a("div",{staticClass:"es-triangle-border-up"})]):e._e(),e._v(" "),e.hasSort?a("es-btn",{attrs:{disabled:e.isLast||e.index<e.fixed},on:{click:e.downItem}},[a("div",{staticClass:"es-triangle-border-down"})]):e._e()],1),e._v(" "),e.canPop?a("transition",{attrs:{name:"es-fade",mode:"out-in",appear:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],ref:"pop",staticClass:"es-form-pop-box",style:{left:e.popPosition.left+"px",top:e.popPosition.top+"px",zIndex:e.popPosition.zindex+""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[a("div",{staticClass:"es-form-pop-content"},[a("div",[e._v("确定删除吗？")]),e._v(" "),a("div",{staticClass:"es-btn-row"},[a("div",{staticClass:"es-btn-group"},[a("es-btn",{staticClass:"es-btn",on:{click:e.clickPopConfirm}},[e._v("\n              确定\n            ")]),e._v(" "),a("es-btn",{staticClass:"es-btn",on:{click:e.closePop}},[e._v("\n              取消\n            ")])],1)])]),e._v(" "),e.popArrow.direction?a("div",{class:"es-pop-arrow-"+e.popArrow.direction,style:{left:e.popArrow.left+"px",top:e.popArrow.top+"px"}}):e._e()])]):e._e()],1)},[],!1,null,null,null).exports),F={mixins:[x],data:function(){return{}},components:{esBtn:E},props:{canDelete:{type:Boolean,required:!1,default:!0},canAdd:{type:Boolean,required:!1,default:!0},hasDelete:{type:Boolean,required:!1,default:!0},hasAdd:{type:Boolean,required:!1,default:!0}},created:function(){this.$data.placement="top"},methods:{addItem:function(){this.canAdd&&this.$emit("addItem")}}},U=(a(334),Object(g.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-bottom-btns"},[a("div",{staticClass:"es-btn-group"},[e.hasDelete?a("es-btn",{ref:"delBtn",attrs:{disabled:!e.canDelete},on:{click:e.clickDeletBtn}},[e._v("\n      删除所有\n    ")]):e._e(),e._v(" "),e.hasAdd?a("es-btn",{attrs:{disabled:!e.canAdd},on:{click:e.addItem}},[e._v("\n      添加\n    ")]):e._e()],1),e._v(" "),e.canPop?a("transition",{attrs:{name:"es-fade",mode:"out-in",appear:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],ref:"pop",staticClass:"es-form-pop-box",style:{left:e.popPosition.left+"px",top:e.popPosition.top+"px",zIndex:e.popPosition.zindex+""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[a("div",{staticClass:"es-form-pop-content"},[a("div",[e._v("确定删除所有吗？")]),e._v(" "),a("div",{staticClass:"es-btn-row"},[a("div",{staticClass:"es-btn-group"},[a("es-btn",{staticClass:"es-btn",on:{click:e.clickPopConfirm}},[e._v("\n              确定\n            ")]),e._v(" "),a("es-btn",{staticClass:"es-btn",on:{click:e.closePop}},[e._v("\n              取消\n            ")])],1)])]),e._v(" "),e.popArrow.direction?a("div",{class:"es-pop-arrow-"+e.popArrow.direction,style:{left:e.popArrow.left+"px",top:e.popArrow.top+"px"}}):e._e()])]):e._e()],1)},[],!1,null,null,null).exports),W={mixins:[h,H],components:{esObject:y,editBtns:j,editBottomBtns:U,tabs:L,esBase:f},methods:{}},K=(a(335),Object(g.a)(W,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-array-box"},[a("div",{staticClass:"es-form-array-wrap"},[a("ul",{staticClass:"es-order-list-box"},e._l(e.schema.__propSchemaList,function(t,s){return a("li",{key:s,staticClass:"list-item",style:{marginTop:(s>0?e.schema.array.rowSpace:0)+"px"}},[!1!==e.schema.array.hasOrder?a("div",{staticClass:"es-order-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[e._v("\n          "+e._s(s+1)+".\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"es-array-row-body"},[t.properties&&t.layout&&"tabs"===t.layout.name?a("tabs",{tag:"component",attrs:{schema:t}},[e._l(t.properties,function(t,s){return a("template",{slot:s},[e._t(s,null,{schema:t})],2)})],2):t.properties?a("es-object",{attrs:{schema:t}},[e._l(t.properties,function(t,s){return a("template",{slot:s},[e._t(s,null,{schema:t})],2)})],2):[e._t("default",null,{schema:t})]],2),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("div",{staticClass:"es-btn-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("edit-btns",{attrs:{"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,"has-add":e.schema.array.hasCopy},on:{copyItem:e.copyItem,delItem:e.delItem,upItem:e.upItem,downItem:e.downItem}})],1):e._e()])}),0),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasAdd?a("div",{staticClass:"es-btn-footer",style:{marginTop:e.schema.__propSchemaList.length>0?Math.round(Math.min(Math.max(e.schema.array.rowSpace/2,10),e.schema.array.rowSpace))+"px":"0px"}},[a("edit-bottom-btns",{attrs:{"has-delete":e.schema.array.hasDelete&&e.schema.array.min<=0&&e.schema.array.fixed<=0,"has-add":e.schema.array.hasAdd,"can-delete":e.schema.__propSchemaList.length>0&&e.schema.array.fixed<=0&&e.schema.array.min<=0,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,index:-1,"has-del-warn":e.schema.array.hasDelWarn},on:{delItem:e.delAllItems,addItem:e.addItem}})],1):e._e()]),e._v(" "),e.schema.help&&!e.schema.help.hidden&&e.schema.component?a("div",{staticClass:"es-form-help",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1):e._e()])},[],!1,null,null,null).exports),q={mixins:[h,H],components:{esObject:y,editBtns:j,editBottomBtns:U,tabs:L,esBase:f},methods:{}},Y=(a(336),Object(g.a)(q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-array-legend"},[a("div",{staticClass:"es-form-array-wrap"},[a("ul",{staticClass:"es-order-list-box"},e._l(e.schema.__propSchemaList,function(t,s){return a("li",{key:s,staticClass:"list-item",style:{marginTop:(s>0?e.schema.array.rowSpace:0)+"px"}},[!1!==e.schema.array.hasOrder?a("div",{staticClass:"es-order-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[e._v("\n          "+e._s(s+1)+".\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"es-array-fieldset-box"},[a("div",{staticClass:"es-array-fieldset"},[a("div",{staticClass:"es-legend"},[!t.subLabel.name||t.subLabel.hidden?a("span",[e._v(e._s(t.subLabel.text&&!t.subLabel.hidden?t.subLabel.text:s+1+""))]):a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:t.subLabel,info:t.__info}})],1)]),e._v(" "),t.properties?[t.layout&&"tabs"===t.layout.name?a("tabs",{tag:"component",attrs:{schema:t}},[e._l(t.properties,function(t,s){return a("template",{slot:s},[e._t(s,null,{schema:t})],2)})],2):a("es-object",{attrs:{schema:t}},[e._l(t.properties,function(t,s){return a("template",{slot:s},[e._t(s,null,{schema:t})],2)})],2),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("div",{staticClass:"es-btn-panel"},[a("div",{staticClass:"es-btn-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("edit-btns",{attrs:{"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,"has-add":e.schema.array.hasCopy},on:{copyItem:e.copyItem,delItem:e.delItem,upItem:e.upItem,downItem:e.downItem}})],1)]):e._e()]:[a("div",{staticClass:"es-single-pannel"},[a("div",{staticClass:"es-single-box"},[e._t("default",null,{schema:t})],2),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("div",{staticClass:"es-btn-box es-single-btn-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("edit-btns",{attrs:{"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,"has-add":e.schema.array.hasCopy},on:{copyItem:e.copyItem,delItem:e.delItem,upItem:e.upItem,downItem:e.downItem}})],1):e._e()])]],2)])])}),0),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasAdd?a("div",{staticClass:"es-btn-footer",style:{marginTop:e.schema.__propSchemaList.length>0?Math.round(Math.min(Math.max(e.schema.array.rowSpace/2,10),e.schema.array.rowSpace))+"px":"0px"}},[a("edit-bottom-btns",{attrs:{"has-delete":e.schema.array.hasDelete&&e.schema.array.min<=0&&e.schema.array.fixed<=0,"has-add":e.schema.array.hasAdd,"can-delete":e.schema.__propSchemaList.length>0&&e.schema.array.fixed<=0&&e.schema.array.min<=0,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,index:-1,"has-del-warn":e.schema.array.hasDelWarn},on:{delItem:e.delAllItems,addItem:e.addItem}})],1):e._e()]),e._v(" "),e.schema.help&&!e.schema.help.hidden&&e.schema.component?a("div",{staticClass:"es-form-help",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1):e._e()])},[],!1,null,null,null).exports),z={mixins:[x],components:{esBtn:E},data:function(){return{showBtn:!1,placement:"top"}},props:{canDelete:{type:Boolean,required:!1,default:!0},hasSort:{type:Boolean,required:!1,default:!0},isFirst:{type:Boolean,required:!1,default:!1},isLast:{type:Boolean,required:!1,default:!1},fixed:{type:Number,required:!0,default:0},index:{type:Number,required:!0,default:0},canAdd:{type:Boolean,required:!1,default:!0},hasAdd:{type:Boolean,required:!1,default:!1}},computed:{canPop:function(){return!0}},methods:{upItem:function(){this.isFirst||(this.$data.showPop=!1,this.$emit("upItem",this.index),this.cancelDocListen())},copyItem:function(){this.$data.showPop=!1,this.$emit("copyItem",this.index),this.cancelDocListen()},downItem:function(){this.isLast||(this.$data.showPop=!1,this.$emit("downItem",this.index),this.cancelDocListen())},clickDeletBtn:function(){var e=this;this.hasDelWarn?(this.$data.showBtn=!1,this.$nextTick(function(){e.adjustPop()})):(this.$data.showPop=!1,this.$emit("delItem",this.index),this.cancelDocListen())},showEditBtn:function(){var e=this;this.$data.showBtn=!0,this.$nextTick(function(){e.adjustPop()})},clickEditHandler:function(){this.showPopHandler(),this.$data.showBtn=!0}}},G=(a(337),{mixins:[h,H],components:{esObject:y,editBtns:Object(g.a)(z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-edit-btns"},[a("div",{staticClass:"btn-list-box"},[a("span",{ref:"delBtn",staticClass:"edit-selected-box",on:{click:e.clickEditHandler}})]),e._v(" "),a("transition",{attrs:{name:"es-fade",mode:"out-in",appear:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],ref:"pop",staticClass:"es-form-pop-box",style:{left:e.popPosition.left+"px",top:e.popPosition.top+"px",zIndex:e.popPosition.zindex+""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[e.showBtn?a("div",{staticClass:"es-form-pop-content es-thin"},[a("div",{staticClass:"es-btn-group"},[e.hasDelete?a("es-btn",{attrs:{disabled:e.index+1<=e.fixed||!e.canDelete},on:{click:e.clickDeletBtn}},[a("div",{staticClass:"es-circle-delete"})]):e._e(),e._v(" "),e.hasAdd?a("es-btn",{attrs:{disabled:!e.canAdd},on:{click:e.copyItem}},[a("div",{staticClass:"es-normal-plus"})]):e._e(),e._v(" "),e.hasSort?a("es-btn",{attrs:{disabled:e.isFirst||e.index<=e.fixed},on:{click:e.upItem}},[a("div",{staticClass:"es-triangle-border-up es-left"})]):e._e(),e._v(" "),e.hasSort?a("es-btn",{attrs:{disabled:e.isLast||e.index<e.fixed},on:{click:e.downItem}},[a("div",{staticClass:"es-triangle-border-down es-right"})]):e._e()],1)]):a("div",{staticClass:"es-form-pop-content"},[a("div",[e._v("确定删除吗？")]),e._v(" "),a("div",{staticClass:"es-btn-row"},[a("div",{staticClass:"es-btn-group"},[a("es-btn",{staticClass:"es-btn",on:{click:e.clickPopConfirm}},[e._v("\n              确定\n            ")]),e._v(" "),a("es-btn",{staticClass:"es-btn",on:{click:e.showEditBtn}},[e._v("\n              取消\n            ")])],1)])]),e._v(" "),e.popArrow.direction?a("div",{class:"es-pop-arrow-"+e.popArrow.direction,style:{left:e.popArrow.left+"px",top:e.popArrow.top+"px"}}):e._e()])])],1)},[],!1,null,null,null).exports,editBottomBtns:U,tabs:L,esBase:f,esBtn:E},methods:{}}),X=(a(338),Object(g.a)(G,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-array-card"},[a("ul",{staticClass:"es-order-list-box",style:{marginBottom:e.schema.__propSchemaList.length>0?-Math.floor(e.schema.array.rowSpace)+"px":0}},e._l(e.schema.__propSchemaList,function(t,s){return a("li",{key:s,staticClass:"list-item",style:{marginRight:e.schema.array.rowSpace+"px",marginBottom:Math.floor(e.schema.array.rowSpace)+"px"}},[e.schema.array.hasOrder||e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("div",{staticClass:"es-btn-box"},[a("div",{staticClass:"es-array-row-head"},[e.schema.array.hasOrder?a("span",{staticClass:"order-txt"},[e._v(e._s(s+1)+".")]):e._e(),e._v(" "),a("span",{staticClass:"order-full"}),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("span",{staticClass:"head-edit-wrap"},[a("edit-btns",{attrs:{"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,"has-add":e.schema.array.hasCopy},on:{copyItem:e.copyItem,delItem:e.delItem,upItem:e.upItem,downItem:e.downItem}})],1):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"es-array-row-body"},[e._t("default",null,{schema:t})],2)])}),0),e._v(" "),e.schema.array.hasAdd?a("div",{staticClass:"es-card-add-box",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[e.schema.array.hasAdd?a("es-btn",{staticClass:"es-btn es-plus-btn",attrs:{disabled:e.schema.array.max>0&&e.schema.__propSchemaList.length>=e.schema.array.max},on:{click:e.addItem}}):e._e()],1):e._e(),e._v(" "),e.schema.help&&!e.schema.help.hidden&&e.schema.component?a("div",{staticClass:"es-form-help",style:{height:e.schema.properties?e.schema.ui.rowHeight+"px":e.schema.rowHeight+"px"}},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1):e._e()])},[],!1,null,null,null).exports),Z={mixins:[h],data:function(){return{}},props:{hasRequired:!0},methods:{}},J=(a(339),{mixins:[h,H],components:{esBase:f,esObjectTable:Object(g.a)(Z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-table-container"},[e.hasRequired&&e.schema.rules&&e.schema.rules.required?a("span",{staticClass:"es-table-required es-required",style:{height:e.schema.rowHeight+"px",lineHeight:e.schema.rowHeight+"px"}},[e._v("*")]):e._e(),e._v(" "),a("div",{staticClass:"es-form-comp-content"},[e._t("default")],2)])},[],!1,null,null,null).exports,editBtns:j,editBottomBtns:U},methods:{}}),Q=(a(340),Object(g.a)(J,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-array-table"},[a("table",{staticClass:"es-table"},[a("thead",[!1!==e.schema.array.hasOrder?a("th",{staticClass:"es-order-fixed",style:{padding:e.schema.ui.rowSpace/2+"px"}},[e._v("\n        序号\n      ")]):e._e(),e._v(" "),e._l(e.schema.properties,function(t,s){return a("th",{key:s,class:["es-col-"+t.col],style:{padding:e.schema.ui.rowSpace/2+"px"}},[a("div",{class:["es-form-table-head",t.label&&t.label.align?"es-form-component-"+t.label.align:""]},[e.schema.array.headRequired&&t.rules&&t.rules.required?a("span",{staticClass:"es-required"},[e._v("*")]):e._e(),e._v(" "),t.label&&!t.label.hidden?[t.label.name?a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:t.label,info:t.__info}})],1):a("span",[e._v("\n              "+e._s(t.label.text?t.label.text:s+"")+"\n            ")]),e._v(" "),t.label.help&&!t.label.help.hidden?a("span",{staticClass:"es-form-label-help"},[a("es-base",{attrs:{config:t.label.help,info:t.__info}})],1):e._e()]:[e._v("\n            "+e._s(s+"")+"\n          ")]],2)])}),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort?a("th",{staticClass:"es-btn-fixed",style:{padding:e.schema.ui.rowSpace/2+"px"}},[e._v("\n        操作\n      ")]):e._e()],2),e._v(" "),a("tbody",e._l(e.schema.__propSchemaList,function(t,s){return a("tr",{key:s},[!1!==e.schema.array.hasOrder?a("td",{style:{padding:e.schema.array.rowSpace/2+"px"}},[a("span",{staticClass:"es-order-txt",style:{height:e.schema.ui.rowHeight+"px",lineHeight:e.schema.ui.rowHeight+"px"}},[e._v(e._s(s+1)+".")])]):e._e(),e._v(" "),e._l(t.properties,function(t,r){return a("td",{key:r,style:{padding:e.schema.array.rowSpace/2+"px",textAlign:t.label.align}},[a("es-object-table",{attrs:{schema:t,"has-required":!e.schema.array.headRequired}},[e._t(r,null,{schema:t,index:s})],2)],1)}),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasSort||e.schema.array.hasCopy?a("td",{style:{padding:e.schema.array.rowSpace/2+"px"}},[a("div",{staticClass:"es-btn-box",style:{height:e.schema.ui.rowHeight+"px"}},[a("edit-btns",{attrs:{"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max,"has-add":e.schema.array.hasCopy},on:{copyItem:e.copyItem,delItem:e.delItem,upItem:e.upItem,downItem:e.downItem}})],1)]):e._e()],2)}),0),e._v(" "),e.schema.array.hasDelete||e.schema.array.hasAdd?a("tfoot",[a("tr",[a("td",{style:{padding:e.schema.array.rowSpace/2+"px"},attrs:{colspan:"100%"}},[a("edit-bottom-btns",{attrs:{"has-delete":e.schema.array.hasDelete&&e.schema.array.min<=0&&e.schema.array.fixed<=0,"has-add":e.schema.array.hasAdd,"can-delete":e.schema.__propSchemaList.length>0&&e.schema.array.fixed<=0&&e.schema.array.min<=0,index:-1,"has-del-warn":e.schema.array.hasDelWarn,"can-add":e.schema.array.max<=0||e.schema.__propSchemaList.length<e.schema.array.max},on:{delItem:e.delAllItems,addItem:e.addItem}})],1)])]):e._e()])])},[],!1,null,null,null).exports),ee={mixins:[h,H],components:{esObject:y,esTabsNav:R,esTabsNavItem:I,tabs:L,esBase:f},data:function(){return{}},methods:{clickActiveHandler:function(e){this.__getForm()._toggleUi("tabs",{key:this.schema.__info.pathKey,index:e})},delItemHandler:function(e){var t=!1;(e<this.schema.__tabsIndex&&(t=this.schema.__tabsIndex-1),this.delItem(e),!1!==t)&&this.__getForm()._toggleUi("tabs",{key:this.schema.__info.pathKey,index:t})},addItemHandler:function(){this.addItem(),this.__getForm()._toggleUi("tabs",{key:this.schema.__info.pathKey,index:this.schema.__propSchemaList.length-1})}},mounted:function(){},beforeDestroy:function(){}},te=(a(341),Object(g.a)(ee,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-array-tabs"},[a("es-tabs-nav",{attrs:{hasAdd:e.schema.array.hasAdd,canAdd:e.schema.array.max>0&&e.schema.__propSchemaList.length>=e.schema.array.max,type:e.schema.array.type},on:{addItem:e.addItemHandler}},[e._l(e.schema.__propSchemaList,function(t,s){return[a("es-tabs-nav-item",{key:s,attrs:{"is-active":s===e.schema.__tabsIndex,"has-error":t.__hasError,"has-delete":e.schema.array.hasDelete,"has-sort":e.schema.array.hasSort,"can-delete":e.schema.__propSchemaList.length>e.schema.array.min,fixed:e.schema.array.fixed,"is-first":0==s,"is-last":s==e.schema.__propSchemaList.length-1,index:s,"has-del-warn":e.schema.array.hasDelWarn},on:{delItem:e.delItemHandler,upItem:e.upItem,downItem:e.downItem,clickActive:e.clickActiveHandler}},[e.schema.array.hasOrder?a("span",{staticClass:"order-txt"},[e._v(e._s(s+1)+".")]):e._e(),e._v(" "),!t.subLabel.name||t.subLabel.hidden?[!e.schema.array.hasOrder||t.subLabel.text&&!t.subLabel.hidden?a("span",[e._v("\n            "+e._s(t.subLabel.text&&!t.subLabel.hidden?t.subLabel.text:e.schema.array.hasOrder?"":s+1+"")+"\n          ")]):e._e()]:a("span",{staticClass:"es-form-label-box"},[a("es-base",{attrs:{config:t.subLabel,info:t.__info}})],1)],2)]}),e._v(" "),e.schema.help&&!e.schema.help.hidden&&e.schema.component?a("div",{staticClass:"es-form-help",attrs:{slot:"help"},slot:"help"},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1):e._e()],2),e._v(" "),e.schema.__propSchemaList.length?a("ul",{staticClass:"es-tabs-body",style:{padding:e.schema.array.hasBorder?e.schema.array.padding?e.schema.array.padding:Math.min(e.schema.array.rowSpace,10)+"px":e.schema.array.padding?e.schema.array.padding:Math.min(e.schema.array.rowSpace,10)+"px 0 0 0","border-width":e.schema.array.hasBorder?"1px":"0px"}},e._l(e.schema.__propSchemaList,function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:s===e.schema.__tabsIndex,expression:"index === schema.__tabsIndex"}],key:s},[t.properties&&t.layout&&"tabs"===t.layout.name?a("tabs",{tag:"component",attrs:{schema:t}},[e._l(t.properties,function(t,s){return a("template",{slot:s},[e._t(s,null,{schema:t})],2)})],2):t.properties?a("es-object",{attrs:{schema:t}},[e._l(t.properties,function(t,r){return a("template",{slot:r},[e._t(r,null,{schema:t,index:s})],2)})],2):[e._t("default",null,{schema:t})]],2)}),0):e._e()],1)},[],!1,null,null,null).exports),ae={boxRowHeight:40,boxRowSpace:20,boxLabelWidth:100,rowHeight:40,rowSpace:20,labelWidth:100,colon:!1,direction:"h",offsetLeft:0,offsetRight:0,defaultCom:"input",defaultVal:"",trimDoms:["input","textarea","el-input"],hasConsole:!1,trimEvent:"change.native"},se={name:"form-item",mixins:[h],data:function(){return{}},components:{esBase:f,esObject:y,arrayRow:K,arrayTable:Q,arrayTabs:te,arrayCard:X,arrayLegend:Y,tabs:L},created:function(){},computed:{needHeader:function(){return!(!this.schema.properties||!(this.schema.title&&!this.schema.title.hidden&&(this.schema.title.name||this.schema.title.text||this.schema.title.help&&this.schema.title.help.hidden)||this.schema.ui.__hasToggle||this.schema.help))},bodyStyle:function(){var e=!(!this.schema.ui||!this.schema.ui.hasBorder)&&this.schema.ui.hasBorder,t=null;return this.needHeader?t=e?{padding:this.schema.ui.padding?this.schema.ui.padding:Math.min(this.schema.ui.rowSpace,10)+"px"}:{padding:this.schema.ui.padding?this.schema.ui.padding:Math.min(this.schema.ui.rowSpace,10)+"px 0 0 0"}:e&&(t={padding:this.schema.ui.padding?this.schema.ui.padding:Math.min(this.schema.ui.rowSpace,10)+"px"}),t}},methods:{_getType:function(){return this.schema.array?m.UI_ARRAY:m.UI_ITEM},_getSchema:function(){return this.schema},getRef:function(e){var t=[],a=this.__getRef(e,t);return t=null,a&&a.target?a.target:null},__getRef:function(e,t){var a;if(this.schema.component&&!this.schema.array){var s=this.$refs[e];a=s?{target:s.$refs.__comTarget__,sourceKey:this.schema.__info.pathKey.replace(/\[\d+\]/g,"[i]")}:null}else a=this.__getLastRefs(e,t);return a},__getLastRefs:function(e,t){var a=["__refObject__","__refTabs__","__refArrarCard__","__refArrarRow__","__refArrarLegend__","__refArrarTable__","__refArrarTabs__"],s=null;for(var r in this.$refs)if(a.includes(r)){var i=this.__getTargetRefs(r,e,t);i&&(s=i)}return s},__getTargetRefs:function(e,t,a){var s,r,i=null;return(s=this.$refs[e])&&s.forEach(function(s){if((r=s.__getRef(t,a))&&(i=i||{},!a.includes(r.sourceKey)))if("__refObject__"===e||"__refTabs__"===e)i.sourceKey&&!a.includes(i.sourceKey)&&a.push(i.sourceKey),i=r;else if(i.sourceKey==r.sourceKey){var n=i.target?i.target:[];n.push(r.target),i.target=n}else i.sourceKey&&!a.includes(i.sourceKey)&&a.push(i.sourceKey),i={target:[r.target],sourceKey:r.sourceKey}}),i&&i.target?i:null},toggleBody:function(){this.__getForm()._toggleUi("toggle",{key:this.schema.__info.pathKey})},triggerHandler:function(e,t,a){var s=[this.schema],r=[e],i=this.schema.component.value;if(this.schema.isTrim&&_.isStr(i)&&(e==ae.trimEvent||m.FORM_INPUTS.includes(this.schema.component.name)&&e==m.INPUT_CHANGE)){var n=i.trim();n!==i&&(this.schema.component.value=n,i=n,r.push(m.INPUT_EVENT))}var o={value:_.deepCopy(i),event:t,pathKey:this.schema.__info.pathKey,index:this.schema.__info.index,idxChain:this.schema.__info.idxChain,target:a};this.__getForm()._syncFormUi(s,r,o)},formArrayInput:function(e,t){var a=[this.schema],s=[m.INPUT_EVENT,m.CHANGE_EVENT],r={value:e,event:t,pathKey:this.schema.__info.pathKey,index:this.schema.__info.index,idxChain:this.schema.__info.idxChain,target:null};this.__getForm()._syncFormUi(a,s,r)},__getForm:function(){for(var e=this.$parent;e;){var t=e._getType?e._getType():"";if(t==m.UI_FORM)return e;m.UI_ARRAY,e=e.$parent}}},watch:{}},re=(a(342),Object(g.a)(se,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-form-item"},[e.needHeader?a("div",{class:["es-form-header",e.schema.ui?"es-form-"+e.schema.ui.type:""]},[e.schema.title&&!e.schema.title.hidden?a("div",{class:["es-form-title","es-title-l"+e.schema.title.__level]},[e.schema.title.name?a("es-base",{attrs:{config:e.schema.title,info:e.schema.__info}}):a("span",[e._v("\n        "+e._s(e.schema.title.text)+"\n      ")]),e._v(" "),e.schema.title.help&&!e.schema.title.help.hidden?a("div",{staticClass:"es-form-label-help"},[a("es-base",{attrs:{config:e.schema.title.help,info:e.schema.__info}})],1):e._e()],1):a("div",{staticClass:"es-form-title es-title-empty"},[e._v(" ")]),e._v(" "),e.schema.ui&&e.schema.ui.__hasToggle?a("div",{staticClass:"es-more-btn",on:{click:e.toggleBody}},[e._v("\n      "+e._s(e.schema.ui.showBody?"隐藏":"打开")+"\n    ")]):e._e(),e._v(" "),e.schema.help&&!e.schema.help.hidden?a("div",{staticClass:"es-form-help"},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1):e._e()]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.schema.properties||e.schema.ui.showBody,expression:"!schema.properties || schema.ui.showBody"}],class:["es-form-body",e.schema.ui&&e.schema.ui.hasBorder?"es-body-border":""],style:e.bodyStyle},[e.schema.array?["array"==e.schema.array.name?a("array-row",{tag:"component",attrs:{schema:e.schema},on:{input:e.formArrayInput},scopedSlots:e._u([e._l(e.schema.properties,function(e,t){return{key:t,fn:function(e){return[a("form-item",{key:t,ref:"__refArrarRow__",refInFor:!0,attrs:{schema:e.schema}})]}}}),{key:"default",fn:function(t){return e.schema.component?a("div",{staticClass:"es-form-component-list"},e._l(1,function(e){return a("form-item",{key:e,ref:"__refArrarRow__",refInFor:!0,attrs:{schema:t.schema}})}),1):e._e()}}],null,!0)}):e._e(),e._v(" "),"array-legend"==e.schema.array.name?a("array-legend",{tag:"component",attrs:{schema:e.schema},on:{input:e.formArrayInput},scopedSlots:e._u([e._l(e.schema.properties,function(e,t){return{key:t,fn:function(e){return[a("form-item",{key:t,ref:"__refArrarLegend__",refInFor:!0,attrs:{schema:e.schema}})]}}}),{key:"default",fn:function(t){return e.schema.component?a("div",{staticClass:"es-form-component-list"},e._l(1,function(e){return a("form-item",{key:e,ref:"__refArrarLegend__",refInFor:!0,attrs:{schema:t.schema}})}),1):e._e()}}],null,!0)}):e._e(),e._v(" "),"array-card"==e.schema.array.name?a("array-card",{tag:"component",attrs:{schema:e.schema},on:{input:e.formArrayInput},scopedSlots:e._u([{key:"default",fn:function(t){return e.schema.component?a("div",{staticClass:"es-form-component-list"},e._l(1,function(e){return a("form-item",{key:e,ref:"__refArrarCard__",refInFor:!0,attrs:{schema:t.schema}})}),1):e._e()}}],null,!0)}):"array-table"==e.schema.array.name?a("array-table",{tag:"component",attrs:{schema:e.schema},on:{input:e.formArrayInput},scopedSlots:e._u([e._l(e.schema.properties,function(e,t){return{key:t,fn:function(e){return[a("form-item",{key:t,ref:"__refArrarTable__",refInFor:!0,attrs:{schema:e.schema}})]}}})],null,!0)}):e.schema.array&&"array-tabs"==e.schema.array.name?a("array-tabs",{tag:"component",attrs:{schema:e.schema},on:{input:e.formArrayInput},scopedSlots:e._u([e._l(e.schema.properties,function(e,t){return{key:t,fn:function(e){return[a("form-item",{key:t,ref:"__refArrarTabs__",refInFor:!0,attrs:{schema:e.schema}})]}}}),{key:"default",fn:function(t){return e.schema.component?a("div",{staticClass:"es-form-component-list"},e._l(1,function(e){return a("form-item",{key:e,ref:"__refArrarTabs__",refInFor:!0,attrs:{schema:t.schema}})}),1):e._e()}}],null,!0)}):e._e()]:[e.schema.component?a("div",{class:["es-form-component",e.schema.component.align?"es-form-component-"+e.schema.component.align:""]},[a("div",{class:["es-form-component-wrap",e.schema.component.flex?"es-form-wrap-"+e.schema.component.flex:""]},[a("es-base",{ref:e.schema.component.ref,class:[e.schema.component.flex?"es-form-component-"+e.schema.component.flex:""],attrs:{config:e.schema.component},on:{trigger:e.triggerHandler}})],1),e._v(" "),!e.schema.unit||e.schema.unit.hidden||e.schema.__inGroups?e._e():[e.schema.unit.name?a("div",{staticClass:"es-form-unit"},[a("es-base",{attrs:{config:e.schema.unit,info:e.schema.__info}})],1):a("div",{directives:[{name:"show",rawName:"v-show",value:e.schema.unit.text,expression:"schema.unit.text"}],staticClass:"es-form-unit"},[e._v("\n            "+e._s(e.schema.unit.text)+"\n          ")])],e._v(" "),!e.schema.help||e.schema.help.hidden||e.schema.__inGroups?e._e():a("div",{staticClass:"es-form-help"},[a("es-base",{attrs:{config:e.schema.help,info:e.schema.__info}})],1)],2):e.schema.properties&&e.schema.layout&&"tabs"===e.schema.layout.name?a("tabs",{tag:"component",attrs:{schema:e.schema}},[e._l(e.schema.properties,function(e,t){return a("template",{slot:t},[a("form-item",{key:t,ref:e.hidden?void 0:"__refTabs__",refInFor:!0,attrs:{schema:e}})],1)})],2):e.schema.properties?a("es-object",{tag:"component",attrs:{schema:e.schema}},[e._l(e.schema.properties,function(e,t){return a("template",{slot:t},[a("form-item",{key:t,ref:e.hidden?void 0:"__refObject__",refInFor:!0,attrs:{schema:e}})],1)})],2):e._e()],e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.schema.__invalidMsg,expression:"schema.__invalidMsg"}],staticClass:"es-form-error"},[e._v("\n      "+e._s(e.schema.__invalidMsg)+"\n    ")]),e._v(" "),e.schema.desc&&!e.schema.desc.hidden?[e.schema.desc.name?a("div",{staticClass:"es-form-desc"},[a("es-base",{attrs:{config:e.schema.desc,info:e.schema.__info}})],1):a("div",{directives:[{name:"show",rawName:"v-show",value:e.schema.desc.text,expression:"schema.desc.text"}],staticClass:"es-form-desc"},[e._v("\n        "+e._s(e.schema.desc.text)+"\n      ")])]:e._e()],2)])},[],!1,null,null,null).exports),ie=(a(343),a(215)),ne={isFunc:function(e){return _.isFunc(e)},isEs:function(e){return N.isEsScript(e)},isStr:function(e){return _.isStr(e)},isInt:function(e,t,a){var s=t,r=a;return _.isNum(t)&&_.isNum(t)&&t>a&&(s=a,r=t),!(!_.isNum(e)||!/^\d+$/.test(e+""))&&(!(_.isNum(s)&&e<s)&&!(_.isNum(r)&&e>r))}},oe={created:function(){var e=this;this.$data.scrollWinHandler=function(){e.adjustPop()}},data:function(){return{showPop:!1,scrollWinHandler:null,popDom:null,popLeaveDelay:200,popTimerId:null,popPosition:{left:0,top:0,zindex:1},popArrow:{direction:"",left:0,top:0},popInfo:{popBorderRadius:4,viewSpace:2,popArrowWH:6,betweenSpace:3}}},props:{maxWidth:{type:Number,required:!1,default:300},content:{type:String,required:!1,default:""},href:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:""}},watch:{},methods:{enter:function(){var e=this;this.content&&(this.$data.showPop?this.cancelPopTimer():(this.$data.showPop=!0,this.addPopDom(),this.setScrollListen(),this.$data.popPosition.zindex=w.getMaxZIndex()+1,this.$nextTick(function(){e.adjustPop()})))},leave:function(){this.content&&this.setCloseTimer()},popEnter:function(){this.cancelPopTimer()},popLeave:function(){this.setCloseTimer()},popAnimateLeave:function(){this.cancelScrollListen(),this.$data.popPosition={left:0,top:0}},addPopDom:function(){this.$data.popDom||(this.$data.popDom=this.$refs.pop,document.body.appendChild(this.$data.popDom))},removePopDom:function(){this.$data.popDom&&(document.body.removeChild(this.$data.popDom),this.$data.popDom=null)},setScrollListen:function(){window.addEventListener("scroll",this.$data.scrollWinHandler,!0)},cancelScrollListen:function(){window.removeEventListener("scroll",this.$data.scrollWinHandler,!0)},closePop:function(){this.cancelPopTimer(),this.$data.showPop=!1},setCloseTimer:function(){var e=this;this.$data.popTimerId=setTimeout(function(){e.$data.popTimerId=null,e.closePop()},this.$data.popLeaveDelay)},cancelPopTimer:function(){null!==this.$data.popTimerId&&(clearTimeout(this.$data.popTimerId),this.$data.popTimerId=null)},adjustPop:function(){var e=this.$refs.pop,t=this.$refs.icon,a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=w.getPopUiInfo(a,s,this.$data.popInfo,this.placement);r?(this.$data.popPosition={left:r.popLeft,top:r.popTop},this.$data.popArrow={direction:r.arrowDirection,left:r.arrowLeft,top:r.arrowTop}):this.closePop()}},destroyed:function(){this.$data.scrollWinHandler&&this.cancelScrollListen(),this.$data.scrollWinHandler=null,this.removePopDom()}},le=(a(344),Object(g.a)(oe,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-help-box"},[e.href?a("a",{staticClass:"help-btn",attrs:{href:e.href,target:"_blank"}},[a("i",{ref:"icon",staticClass:"es-help-icon",on:{mouseenter:e.enter,mouseleave:e.leave}},[e._v("i")])]):a("i",{ref:"icon",staticClass:"es-help-icon",on:{mouseenter:e.enter,mouseleave:e.leave}},[e._v("i")]),e._v(" "),a("transition",{attrs:{name:"es-help-fade",mode:"out-in",appear:""},on:{"after-leave":e.popAnimateLeave}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop&&e.content,expression:"showPop && content"}],ref:"pop",staticClass:"es-help-tip-box",style:{left:e.popPosition.left+"px",top:e.popPosition.top+"px",maxWidth:e.maxWidth+"px",zIndex:e.popPosition.zindex+""},on:{mouseenter:e.popEnter,mouseleave:e.popLeave}},[a("div",{staticClass:"es-content-box",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),e.popArrow.direction?a("div",{class:"help-arrow-"+e.popArrow.direction,style:{left:e.popArrow.left+"px",top:e.popArrow.top+"px"}}):e._e()])])],1)},[],!1,null,null,null).exports),ce=function(){this.submit()},he=function(e){e.event&&13===e.event.keyCode&&this.submit()},pe={check:function(e){try{this.completeSchema(e)}catch(e){return e}return!0},completeSchema:function(e){var t;if(_.isObj(e)){var a=_.deepCopy(e),s=a;return _.isObj(a.properties)?t=!0===s.autoMatch:((s={}).title=!1,s.layout=!1,s.properties=a,t=!1),s.array=!1,s.hidden=!1,s.isTmp=!1,s.col=m.UI_MAX_COL,s.label={text:!1,__rawText:!1},(s=this.__parseProp(s,1,"根",this.__getGlobalInheritObj(),"")).autoMatch=t,this.__checkForTile(s),s}throw"根schema是一个Object类型"},__parseProp:function(e,t,a,s,r){if(_.isStr(e))e={label:e};else if(!_.isObj(e))throw"第"+t+"层的属性值("+a+")必须是一个字符串或Object类型";var i,n,l,c;if(this.__isSpaceItem(e))n=this.__getPropKeys("none"),(i=this.__filterKeys(e,n,s,r)).__info={pathKey:r,idxChain:"",index:-1};else if(this.__isPropItem(e)){if(!this.__existEntityItem(e))throw"属性"+a+"没有具体的子节点(properties全为空)";l=this.__isArray(e.array),n=this.__getPropKeys("properties");var h=(i=this.__filterKeys(e,n,s,r)).nextInherit;i.nextInherit=null,delete i.nextInherit,l&&_.isUndef(i.array.rowSpace)&&(i.array.rowSpace=i.rowSpace);var p=i.ui?i.ui:{showBody:!0};p.rowSpace=h.rowSpace,p.rowHeight=h.rowHeight,i.ui=p,c=i.layout&&i.layout.name===m.LAYOUT_TABS,l&&i.array.name==m.ARRAY_TABLE&&c&&(i.layout=!1,c=!1,console.warn("第"+t+"层("+a+")为table数组且子节点为tabs, 子节点为tabs将失效")),e.component&&(a=a||"根",a+="节点",console.warn("第"+t+"层("+a+")中同时存在properties和component, component将失效")),i.title&&(i.title.__level=t),i.__info={pathKey:r,idxChain:"",index:-1},c&&(i.__tabsIndex=!1);var d={};for(var u in e.properties){this.__isRightKey(u)||console.warn("属性"+u+"存在危险字符，会导致程序出错");var f=e.properties[u];if(this.__isIngnoreItem(f))console.log("属性"+u+"为null/undefined/false时，将不设置");else{var v=this.__isSpaceItem(f);if(v&&i.array&&i.array.name==m.ARRAY_TABLE){console.warn("属性"+u+"不符合"+m.ARRAY_TABLE+"布局的要求(properties存在占位空间), 将失效");continue}if(v&&c){console.warn("属性"+u+"不符合"+m.LAYOUT_TABS+"布局的要求(properties存在占位空间), 将失效");continue}var g=this.__parseProp(f,t+1,u,h,r?r+"."+u:u);c&&(g.__hasError=!1),(c||i.array&&i.array.name==m.ARRAY_TABLE)&&(g.label||console.warn("当属性("+a+")为"+m.LAYOUT_TABS+"或"+m.ARRAY_TABLE+"时，下一级的label必须存在, 否则用各自的key代表头部")),(c||i.array&&i.array.name==m.ARRAY_TABS)&&(i.__tabsIndex=!1,i.__hasError=!1),d[u]=g}}if(o()(d).length<=0)throw"properties不能为空，或其属性全部为空(null/undefined/false)";if(i.properties=d,i.array&&i.array.name==m.ARRAY_TABLE&&this.__updateTableCol(i),this.__uniqueRef(i),c||i.array&&i.array.name==m.ARRAY_TABLE||this.__reinitGroup(i),i.array){if(i.array.value){if(!_.isArr(i.array.value))throw"array的值必须是数组或不写"}else i.array.value=[];i.__propSchemaList=[],V.setValue(i,i.array.value),delete i.array.value}}else{n=this.__getPropKeys("component"),i=this.__filterKeys(e,n,s,r),this.__isTabsItem(e)?(i.layout=!1,console.warn("当属性("+a+")为叶子节点时，"+m.LAYOUT_TABS+"将不起作用")):i.layout=!1,i.format&&(i.component.value=V.getFormatValue(i.format,i.component.value,!0));var y=this.__fetchFormEvent(i);if(i.component.__emitEvents=y.__emitEvents,i.component.__nativeEvents=y.__nativeEvents,i.__info={pathKey:r,idxChain:"",index:-1},l=this.__isArray(e.array)){if(i.array.value){if(!_.isArr(i.array.value))throw"array.value的值必须是数组或不写"}else i.array.value=[];_.isUndef(i.array.rowSpace)&&(i.array.rowSpace=i.rowSpace),i.array.name==m.ARRAY_TABS&&(i.__tabsIndex=!1,i.__hasError=!1),i.__propSchemaList=[],V.setValue(i,i.array.value),delete i.array.value}}return i.__rawHidden=N.newEsFuncion(i.hidden),i.__creatable=!1,i},__updateTableCol:function(e){if(e.properties){var t,a,s,r=e.properties,i=0;for(a in r)i+=(t=r[a]).col;var n=0;if(i!==m.UI_MAX_COL)for(a in r)t=r[a],s=Math.round(t.col*m.UI_MAX_COL/i),t.col=s,n+=s;n<m.UI_MAX_COL&&(r[a].col=r[a].col+(m.UI_MAX_COL-n))}},__uniqueRef:function(e){if(e.properties){var t=e.properties,a={};for(var s in t){var r=t[s];if(r.component&&r.component.ref){var i=r.component.ref;if(a[i]&&r.component.ref===a[i].component.ref)delete a[i].component.ref;a[i]=r}}a=null}},__parseTrigger:function(e){var t;return _.isArr(e)||_.isStr(e)?(_.isStr(e)?(e=e.trim(),t=e.split(/\s+/)):(t=[],e.forEach(function(e){_.isStr(e)&&(e=e.trim(),t=t.concat(e.split(/\s+/)))})),t=t.map(function(e){return e?0===e.indexOf(".")?m.CLICK_EVENT+e:e:m.CLICK_EVENT})):t=null,t&&t.length>0?t:null},__isRightKey:function(e){for(var t=["[","]",".","{","}","(",")"],a=0;a<t.length;a++)if(e.indexOf(t[a])>=0)throw"属性不能出现以下的危险字符："+t.join(" ");return!0},__fetchFormEvent:function(e){var t,a=this,s=[],r=[];if(e.rules){var i=e.rules.checks;i&&i.forEach(function(e){e.trigger.forEach(function(e){(t=a.__getNativeName(e))?r.push(t):s.push(e)})})}if(e.isTrim||_.isUndef(e.isTrim)&&ae.trimDoms.includes(e.component.name)){e.isTrim=!0;var n=e.component.name.toLowerCase?e.component.name.toLowerCase():e.component.name,o=m.FORM_INPUTS.includes(n)?m.INPUT_CHANGE:ae.trimEvent;(t=this.__getNativeName(o))?r.push(t):s.push(o)}if(e.component&&e.component.actions){var l=this.__fetchActionEvent(e.component.actions);l.__emitEvents&&(s=s.concat(l.__emitEvents)),l.__nativeEvents&&(r=r.concat(l.__nativeEvents))}return{__emitEvents:s.length?_.unique(s):null,__nativeEvents:r.length?_.unique(r):null}},__fetchActionEvent:function(e){var t,a=this,s=[],r=[];return e&&e.forEach(function(e){e.trigger.forEach(function(e){(t=a.__getNativeName(e))?r.push(t):s.push(e)})}),{__emitEvents:s.length?_.unique(s):null,__nativeEvents:r.length?_.unique(r):null}},__getNativeName:function(e){var t="."+m.ADJ_NATIVE,a=e.lastIndexOf(t);if(-1!=a&&e.substr(a)===t){var s=e.substr(0,a);return s||!1}return!1},__getPropKeys:function(e){var t=[];switch(e){case"component":t=["label","rowHeight","rowSpace","labelWidth","offsetLeft","offsetRight","hidden","format","hdValue","colon","group","isTrim","help","desc","unit","direction","col","rules","component","array","layout","isTmp"];break;case"properties":t=["ui","title","label","rowHeight","rowSpace","labelWidth","nextInherit","offsetLeft","offsetRight","hidden","hdValue","colon","help","desc","direction","col","array","layout","isTmp"];break;default:t=["col","group","hidden","layout"]}return t},__getNormalInfo:function(e){for(var t=[{key:"hidden",enums:[!0,!1],isOr:!0,filters:["isEs","isFunc"],defaultValue:!1},{key:"hdValue",enums:[],defaultValue:void 0},{key:"colon",enums:[!0,!1],defaultValue:ae.colon},{key:"group",enums:[],filters:["isStr"],defaultValue:!1},{key:"col",enums:[],filters:[{name:"isInt",params:[1,m.UI_MAX_COL]}],defaultValue:m.UI_MAX_COL},{key:"direction",enums:["h","v"],defaultValue:ae.direction},{key:"isTrim",enums:[!0,!1],defaultValue:void 0},{key:"rowHeight",enums:[],filters:[{name:"isInt",params:[0]}],defaultValue:ae.boxRowHeight},{key:"rowSpace",enums:[],filters:[{name:"isInt",params:[0]}],defaultValue:ae.boxRowSpace},{key:"labelWidth",enums:[],filters:[{name:"isInt",params:[0]}],defaultValue:ae.boxLabelWidth},{key:"offsetLeft",enums:[],filters:[{name:"isInt",params:[0]}],defaultValue:0},{key:"offsetRight",enums:[],filters:[{name:"isInt",params:[0]}],defaultValue:0},{key:"isTmp",enums:[!0,!1],defaultValue:!1}],a=0;a<t.length;a++)if(t[a].key===e)return t[a];return!1},__parseNormalKey:function(e,t,a){var s=e[t.key],r=_.isUndef(a[t.key])?t.defaultValue:a[t.key];if(_.isUndef(s))return r;if(t.enums&&t.enums.length>0&&t.enums.includes(s))return s;var i=!!t.isOr;if(t.filters&&t.filters.length>0){for(var n,o,l,c=!0,h=0;h<t.filters.length;h++){var p=t.filters[h];if(_.isStr(p)?(n=p,o=[]):(n=p.name,o=_.isArr(p.params)?p.params:[]),l=ne[n]){var d=[s].concat(Object(ie.a)(o)),u=l.apply(null,d);if(i){if(!0===u){c=!0;break}c=!1}else{if(!0!==u){c=!1;break}c=!0}}else console.warn(n+"不存在，请检查")}return c?s:r}return s},__parseMainComponent:function(e,t){var a,s=e.component;if(_.isObj(s)&&o()(s).length>0){(a={}).name=s.name?s.name:ae.defaultCom,a.actions=this.__parseActions(s.actions,t);var r=_.isStr(s.ref)?s.ref.trim():null;r&&(a.ref=r);var i=this.__parseComProps(s.props,["style","class"]);i.new&&(a.props=i.new),i.raw&&(a.__rawProps=i.raw),i.staticNames&&(a.__staticPropNames=i.staticNames);var n=this.__parseDirectives(_.isUndef(s.directives)?s.v:s.directives);n.new&&(a.directives=n.new),n.raw&&(a.__rawDirectives=n.raw),(_.isStr(s.text)||_.isFunc(s.text))&&(a.text=s.text,N.isEsOrFunc(s.text)&&(a.__rawText=N.newEsFuncion(s.text))),N.isEsOrFunc(s.class)?(a.class=null,a.__rawClass=N.newEsFuncion(s.class)):a.class=_.deepCopy(s.class),N.isEsOrFunc(s.style)?(a.style=null,a.__rawStyle=N.newEsFuncion(s.style)):_.isObj(s.style)&&o()(s.style).length&&(a.style=_.deepCopy(s.style)),a.align=this.__parseAlign(s.align,!1),a.flex=this.__parseFlex(s.flex,s.size),e.hasOwnProperty("value")?a.value=e.value:s.hasOwnProperty("value")?a.value=s.value:a.value=s.name===ae.defaultCom?ae.defaultVal:void 0}else a=_.isStr(s)?{name:s,actions:[],align:!1,flex:!1,value:e.hasOwnProperty("value")?e.value:ae.defaultCom===s?ae.defaultVal:void 0}:{name:ae.defaultCom,actions:[],align:!1,flex:!1,value:ae.defaultVal};if(_.isStr(a.name)&&!_.validateComponentName(a.name))throw"组件名("+a.name+")存在html非法字符";return a.props=a.props?a.props:{},a},__parseComProps:function(e,t){var a={},s={},r=[];_.isObj(e)||(e={});var i,n,l,c,h,p,d=!1;for(var u in e){if(i=u,(c=!1!==(l=N.getStaticKey(i)))&&(i=l),!i.trim())break;if(n=_.vueCamelCase(i),t.includes(n))break;h=e[u],!c&&N.isEsOrFunc(e[u])?(d=!0,p=N.newEsFuncion(h),a[n]=p,s[n]=p):c&&_.isFunc(h)?(a[n]=h,s[n]=h,r.push(n)):(a[n]=h,s[n]=h)}if(d)for(var m in a)a[m]=null;else s={};return{new:a,raw:s=o()(s).length>0&&s,staticNames:!!r.length&&r}},__parseFormat:function(e){var t;return _.isArr(e)?(t=[],e.forEach(function(e){_.isUndef(e.outer)||_.isUndef(e.inner)?console.warn("format属性：outer和inner必须成对定义"):t.push(e)}),t.length>0&&t):!!_.isObj(e)&&(t={},_.isFunc(e.outer)?t.outer=e.outer:t.outer=!1,_.isFunc(e.inner)?t.inner=e.inner:t.inner=!1,!(!t.outer&&!t.inner)&&t)},__parseActions:function(e,t){var a=this,s=[];(_.isObj(e)&&o()(e).length>0||_.isArr(e)&&e.length>0||_.isFunc(e)||_.isStr(e))&&(_.isFunc(e)?[{trigger:m.CLICK_EVENT,handler:e}]:_.isObj(e)?[e]:_.isStr(e)?[e]:e).forEach(function(e){var r,i;if(_.isStr(e))if((e=e.trim())==m.ENTER_SUBMIT)s.push({trigger:[m.KEYUP_NATIVE],handler:he});else{var n=e.split(/\s*=\s*/);n&&2==n.length&&n[1]==m.ONLY_SUBMIT?(i={},r=a.__parseTrigger(n[0]),i.trigger=r&&r.length>0?r:[m.CLICK_EVENT],i.handler=ce,s.push(i)):console.warn("key("+t+")存在不合法的事件，将过滤去掉，不会执行.")}else _.isFunc(e.handler)?(i={},r=a.__parseTrigger(e.trigger),i.trigger=r&&r.length>0?r:[m.CLICK_EVENT],i.handler=e.handler,s.push(i)):console.warn("key("+t+")存在不合法的事件，将过滤去掉，不会执行")});return s.length>0?s:null},__parseLabel:function(e,t){var a;return(a=this.__parsePropComponent(e,t,!0))&&(a.flex=this.__parseFlex(e.flex,e.size),a.align=this.__parseAlign(e.align,!1),a.help=this.__parsePropHelp(e.help,t)),a},__parseFlex:function(e,t){var a=["self","full"];if(a.includes(e))return e;var s=["fixed","auto"].indexOf(t);return s>=0&&(console.warn('label.size and component.size ["fixed", "auto"]已经舍弃了，请使用flex ["self", "full"]'),a[s])},__parseAlign:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";return["left","center","right"].includes(e)?e:t},__parseTitle:function(e,t){var a=this.__parsePropComponent(e,t);return a&&(a.help=this.__parsePropHelp(e.help,t)),a},__parseBoxUi:function(e){var t,a,s=["bg","block","bg-block"];return _.isObj(e)&&o()(e).length>0?(t={},_.isBool(e.showBody)?(t.__hasToggle=!0,t.showBody=e.showBody):(t.__hasToggle=!1,t.showBody=!0),a=_.isStr(e.type)?e.type.trim():"",t.type=s.includes(a)?a:"",t.hasBorder=!!_.isBool(e.hasBorder)&&e.hasBorder,t.padding=this.__parsePadding(e.padding)):_.isStr(e)?(a=e||"",a=_.isStr(a)?a.trim():"",t=s.includes(a)?{showBody:!0,type:a}:{showBody:!0,type:""}):t={showBody:!0,type:""},t},__parseInherit:function(e,t){var a=this,s=_.isObj(e.ui)?e.ui:{},r={},i={};return["offsetLeft","offsetRight","direction","colon",["rowSpace","boxRowSpace"],["labelWidth","boxLabelWidth"],["rowHeight","boxRowHeight"]].forEach(function(n){var o,l;_.isStr(n)?(o=n,l=!1):(o=n[0],l=n[1]);var c=a.__getNormalInfo(o);if(!c)throw"BoxUi: 程序的key("+n+")不对应，请修改";var h=s[o];r[o]=h,_.isUndef(h)&&l&&(_.isUndef(e[l])||(r[o]=e[l],console.warn("属性"+l+"已舍弃，请使用ui."+o))),i[o]=a.__parseNormalKey(r,c,t)}),i},__parsePadding:function(e,t){var a,s;if(_.isNum(e))return(a=t||e>=0?[e,e,e,e]:[0,0,0,0]).join("px ")+"px";if(_.isStr(e))(e=e.trim())&&(s=e.split(/\s+/)).length<=4||(s=!1);else{if(!(_.isArr(e)&&e.length<=4))return!1;s=e}if(s){a=[];for(var r,i=/^(-?\d+(\.\d+)?)(px)?$/,n=/^(-?\.\d+)(px)?$/,o=0;o<s.length;o++){var l=s[o];if(_.isNum(l))r=l,t||r>=0?a.push(r):a.push(0);else{var c=l.match(i)||l.match(n);if(!c)break;r=Number(c[1]),t||r>=0?a.push(r):a.push(0)}}a.length===s.length?1===a.length?a.push(a[0],a[0],a[0]):2===a.length?a.push(a[0],a[1]):3===a.length&&a.push(a[1]):a=!1}else a=!1;return!!a&&a.join("px ")+"px"},__parsePropHelp:function(e,t){var a=!1;return _.isObj(e)&&o()(e).length>0?(a={},d()(a,e),a.name||(a.name=le),a=this.__parsePropComponent(a,t)):_.isStr(e)?(a={name:le,props:{content:e}},a=this.__parsePropComponent(a,t)):a=!1,a},__parsePropComponent:function(e,t){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_.isObj(e)&&o()(e).length>0){a={};var r=_.isStr(e.name)&&e.name.trim()?e.name.trim():e.name;if(r){a.name=r,a.actions=this.__parseActions(e.actions,t);var i=this.__parseComProps(e.props,["style","class"]);i.new&&(a.props=i.new),i.raw&&(a.__rawProps=i.raw),i.staticNames&&(a.__staticPropNames=i.staticNames);var n=this.__parseDirectives(_.isUndef(e.directives)?e.v:e.directives);n.new&&(a.directives=n.new),n.raw&&(a.__rawDirectives=n.raw),N.isEsOrFunc(e.class)?(a.class=null,a.__rawClass=N.newEsFuncion(e.class)):a.class=_.deepCopy(e.class),N.isEsOrFunc(e.style)?(a.style=null,a.__rawStyle=N.newEsFuncion(e.style)):_.isObj(e.style)&&o()(e.style).length&&(a.style=_.deepCopy(e.style)),e.hasOwnProperty("value")&&(a.value=e.value)}if(N.isEsOrFunc(e.text)?(a.text=e.text,a.__rawText=N.newEsFuncion(e.text)):_.isStr(e.text)?a.text=e.text.trim():a.text=void 0,!a.text&&!r&&!s)return!1;N.isEsOrFunc(e.hidden)?(a.hidden=!1,a.__rawHidden=N.newEsFuncion(e.hidden)):a.hidden=!!e.hidden}else if(_.isStr(e)){if(!(e=e.trim())&&!s)return!1;a=N.isEsOrFunc(e)?{text:e,__rawText:N.newEsFuncion(e),hidden:!1}:{text:e,hidden:!1}}else{if(!_.isFunc(e))return!1;a={text:e,__rawText:e,hidden:!1}}if(a&&_.isStr(a.name)&&!_.validateComponentName(a.name))throw"组件名("+a.name+")存在html非法字符";a.props=a.props?a.props:{};var l=this.__fetchActionEvent(a.actions);return a.__emitEvents=l.__emitEvents,a.__nativeEvents=l.__nativeEvents,a},__parsePropRules:function(e){var t,a,s,r=this;if(_.isObj(e)){var i;e.check&&console.warn("rules.check已经舍弃了，请使用rules.checks"),t={},e.checks?i=e.checks:e.check&&(console.warn("rules.check已经舍弃了，请使用rules.checks"),i=e.check);var n=[];i?_.isArr(i)||(i=[i]):i=[],i.forEach(function(e){var t=r.__perfectCheckItem(e);t&&n.push(t)}),n.length>0&&(t.checks=n),N.isEsOrFunc(e.required)?(t.required=!1,t.__rawRequired=N.newEsFuncion(e.required)):_.isBool(e.required)?(t.required=e.required,t.__rawRequired=e.required):(t.required=!1,t.__rawRequired=!1)}else if(_.isBool(e))t={required:e,__rawRequired:e};else{if(!N.isEsOrFunc(e))return!1;t={required:!1,__rawRequired:N.newEsFuncion(e)}}return!!(t.__rawRequired||t.checks&&t.checks.length>0)&&(t.__rawRequired&&(_.isStr(e.emptyMsg)&&(a=e.emptyMsg.trim()),t.emptyMsg=a||"不能为空"),t.checks&&t.checks.length>0&&(_.isStr(e.errMsg)&&(s=e.errMsg.trim()),t.errMsg=s||"格式不对"),t)},__parseDirectives:function(e){var t=[],a=[];_.isArr(e)||(e=[e]);var s=!1;return e.forEach(function(e){var t,r,i,n,o,l;if(_.isStr(e))t={name:e};else{if(!_.isObj(e))return!1;t=e}r=t.name;if(_.isStr(r)?0===(r=r.trim()).indexOf("v-")&&(r=r.substr("v-".length)):r=!1,r){n=(n=_.isStr(t.expression)?t.expression.trim():void 0)||void 0,o=(o=_.isStr(t.arg)?t.arg.trim():void 0)||void 0,l=_.isObj(t.modifiers)?_.deepCopy(t.modifiers):{},N.isEsOrFunc(t.value)?(s=!0,i=N.newEsFuncion(t.value)):i=_.deepCopy(t.value);var c={name:r,value:i,expression:n,arg:o,modifiers:l};a.push(c)}}),s?a.forEach(function(e){var a={};d()(a,e),a.value=null,t.push(a)}):(t=a,a=!1),{new:t=t.length>0&&t,raw:a}},__isArray:function(e){return!!e},__isPropItem:function(e){return!this.__isSpaceItem(e)&&_.isObj(e.properties)},__existEntityItem:function(e){if(this.__isPropItem(e))for(var t in e.properties){var a=e.properties[t];if(!this.__isIngnoreItem(a)&&!this.__isSpaceItem(a))return!0}return!1},__isIngnoreItem:function(e){return!(!_.isNull(e)&&!_.isUndef(e)&&!1!==e)},__isSpaceItem:function(e){return!(!_.isObj(e)||!(e.layout===m.LAYOUT_SPACE||e.layout&&e.layout.name===m.LAYOUT_SPACE))},__isTabsItem:function(e){return!!(e.layout===m.LAYOUT_TABS||e.layout&&e.layout.name===m.LAYOUT_TABS)},__parsePropLayout:function(e){var t={name:!1},a=[m.LAYOUT_SPACE,m.LAYOUT_TABS];return _.isStr(e)?a.includes(e)&&(t.name=e,e={}):_.isObj(e)&&a.includes(e.name)&&(t.name=e.name),!1!==t.name&&(t.name===m.LAYOUT_TABS&&(t.type=e.type,t.hasBorder=!_.isBool(e.hasBorder)||e.hasBorder,t.padding=this.__parsePadding(e.padding)),t)},__parsePropArray:function(e,t,a){if(this.__isArray(e)){var s={},r=!1,i=!0,n=!0,o=!1,l=0,c=0,h=0,p=!0,d=!1,u=!0,f=!1,v=!1,g=!1,y=[],b=void 0,w=null,x=!0,C=void 0;if(_.isStr(e)?s.name=e:_.isObj(e)?(s.name=_.isStr(e.name)?e.name:m.ARRAY_ROW,r=!!e.hasSort,i=!(!_.isUndef(e.hasDelete)&&!e.hasDelete),n=!(!_.isUndef(e.hasAdd)&&!e.hasAdd),o=!!e.hasCopy,c=_.isNum(e.min)&&e.min>0?e.min:0,l=_.isNum(e.max)&&e.max>0?e.max:0,h=_.isNum(e.fixed)&&e.fixed>0?e.fixed:0,p=!(!_.isUndef(e.hasOrder)&&!e.hasOrder),d=!(e.name!=m.ARRAY_TABLE||!e.headRequired),(f=this.__parsePropComponent(e.subLabel,a))||(f={hidden:!1,text:!1}),u=!(!_.isUndef(e.hasDelWarn)&&!e.hasDelWarn),y=_.isArr(e.value)?e.value:[],v=this.__parsePropRules(e.rules),g=this.__parseActions(e.actions,a),b=_.isNum(e.rowSpace)?e.rowSpace:void 0,w=!!_.isStr(e.type)&&e.type,x=!_.isBool(e.hasBorder)||e.hasBorder,C=_.isUndef(e.insertValue)?void 0:e.insertValue):s.name=m.ARRAY_ROW,this.__isPropItem(t)||s.name!=m.ARRAY_TABLE?this.__isPropItem(t)&&s.name==m.ARRAY_CARD&&(s.name=m.ARRAY_ROW,console.warn(a+"为非叶子节点(非组件)，不支持为"+m.ARRAY_CARD+"数组, "+m.ARRAY_CARD+"将失效, 强制转化为"+m.ARRAY_ROW)):(s.name=m.ARRAY_ROW,console.warn(a+"叶子节点(组件)不支持为"+m.ARRAY_TABLE+"数组, "+m.ARRAY_TABLE+"将失效, 强制转化为"+m.ARRAY_ROW)),s.name!=m.ARRAY_ROW&&s.name!=m.ARRAY_TABLE&&s.name!=m.ARRAY_TABS&&s.name!=m.ARRAY_CARD&&s.name!=m.ARRAY_LEGEND)throw"this.__parsePropArray: array.name不合法";if(s.hasSort=r,s.hasDelete=i,s.hasDelWarn=u,s.hasAdd=n,s.hasCopy=o,s.min=c,s.max=l>=c?l:0,s.fixed=h,s.hasOrder=p,s.headRequired=d,s.value=y,s.rules=v,s.actions=g,s.rowSpace=b,s.name==m.ARRAY_TABS?(s.subLabel=f,s.type=w,s.hasBorder=x):s.name==m.ARRAY_LEGEND&&(s.subLabel=f),_.isUndef(C)||(s.insertValue=C),s.min>0){var E=_.isStr(e.minMsg)?e.minMsg.trim():"";E||(E="长度不能小于"+s.min),s.minMsg=E}if(s.max>0){var S=_.isStr(e.maxMsg)?e.maxMsg.trim():"";S||(S="长度不能大于"+s.max),s.maxMsg=S}return s}return!1},__perfectCheckItem:function(e){if(_.isFunc(e))return{handler:e,trigger:[m.INPUT_EVENT]};if(N.isEsScript(e))return{handler:N.newEsFuncion(e),trigger:[m.INPUT_EVENT]};if(_.isObj(e)&&(N.isEsOrFunc(e.handler)||N.isEsOrFunc(e.name))){var t;if(_.isFunc(e.handler))t=e.handler;else{if(!_.isFunc(e.name))throw N.isEsScript(e.handler)?"rules.check.handler已经舍弃了且规则不再支持es写法，请使用函数赋值rules.checks.handler":"rules.check.name已经舍弃了且规则不再支持es写法，请使用函数赋值rules.checks.handler";console.warn("rules.checks.name已经舍弃了，请使用rules.checks.handler"),t=e.name}var a=this.__parseTrigger(e.trigger);return{handler:t,trigger:a=a&&a.length?_.unique(a):[m.INPUT_EVENT]}}return console.warn("rules.checks设置不正确: 正确的格式如：[{trigger, handler}], 错误的item为",e),!1},__filterKeys:function(e,t,a,s){var r=this,i={};return t.forEach(function(t){if("label"==t)return i[t]=r.__parseLabel(e[t],s),!0;if("title"==t)return i[t]=r.__parseTitle(e[t],s),!0;if("ui"==t)return i[t]=r.__parseBoxUi(e.ui),!0;if("nextInherit"==t)return i[t]=r.__parseInherit(e,a),!0;if("format"==t)return i[t]=r.__parseFormat(e[t]),!0;if("rules"==t)return i[t]=r.__parsePropRules(e[t]),i.__invalidMsg=!1,!0;if("help"==t)return i[t]=r.__parsePropHelp(e[t],s),!0;if("desc"==t)return i[t]=r.__parsePropComponent(e[t],s),!0;if("unit"==t)return i[t]=r.__parsePropComponent(e[t],s),!0;if("array"==t){var n=r.__parsePropArray(e[t],e,s);return i[t]=n,n&&(i.__invalidMsg=!1),!0}if("layout"==t)return i[t]=r.__parsePropLayout(e[t]),!0;if("component"==t){var o=r.__parseMainComponent(e,s);return i[t]=o,!0}var l=r.__getNormalInfo(t);if(!l)throw"程序的key("+t+")不对应，请修改";i[t]=r.__parseNormalKey(e,l,a)}),_.isUndef(i.rowSpace)||(i.__rawRowSpace=i.rowSpace),i},__getGlobalInheritObj:function(){var e={};return["offsetLeft","offsetRight","direction","colon","rowSpace","labelWidth","rowHeight"].forEach(function(t){e[t]=ae[t]}),e},__reinitGroup:function(e){var t,a,s=!1,r=0;for(var i in e.properties){var n=e.properties[i],o=n.group;o?(s&&s===o?(t.push(i),r+=n.col,a.__groupCol=r>m.UI_MAX_COL?m.UI_MAX_COL:r):(s=o,a=n,t=[i],n.__groups=t,n.__hiddenGroup=!1,r=n.col,a.__groupCol=r>m.UI_MAX_COL?m.UI_MAX_COL:r),n.__inGroups=!0):(s=!1,t=null,r=0,a=null)}},__checkForTile:function(e){if(e.autoMatch){var t={},a=e.properties;for(var s in a){t[s]?t[s]=t[s]+1:t[s]=1;var r=a[s];if(r.properties&&!r.array){var i=r.properties;for(var n in i)t[n]?t[n]=t[n]+1:t[n]=1}}var o=[];for(var l in t)t[l]>1&&o.push(l+"(共"+t[l]+"次)");if(o.length>0)throw"属性"+o.join("、")+"出错重复，无法做到自动匹配";return!0}return!0}};var de=function(e,t){var a=t,s=e.clientX,r=e.clientY;function i(e){e||(e=window.event);var t=e.clientX-s,i=e.clientY-r;a({offsetX:t,offsetY:i}),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function n(e){e||(e=window.event),document.removeEventListener("mousemove",i,!0),document.removeEventListener("mouseup",n,!0),window.removeEventListener("blur",n,!0),a(!1),a=null,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}document.addEventListener("mousemove",i,!0),document.addEventListener("mouseup",n,!0),window.addEventListener("blur",n,!0),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,e=null,t=null},ue={data:function(){return{hadShow:!1,showPanel:!1,boxZIndex:!1,positions:{right:2,top:2,zIndex:1}}},created:function(){},mounted:function(){this.$data.boxZIndex=this.getMaxZIndex()+1},props:{rootData:{type:Object,required:!1,default:function(){return{}}},formValue:{type:Object,required:!1,default:function(){return{}}}},methods:{toJson:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t<=3,s=t<3?_.randStr(15,20):"undefined值",r={},i=!1,n=c()(e,function(e,t){return e===s||t===s?i=!0:void 0===t&&(t=s,r[e]=t),t},2);if(a){if(i){n=null;var l=t+1;return this.toJson(e,l)}if(o()(r).length>0){var h=new RegExp('"'+s+'"',"g");n=n.replace(h,"undefined")}return n}return n},clickHandler:function(){var e=this;this.$data.showPanel||(this.$data.positions.right=2,this.$data.positions.top=2,this.$data.positions.zIndex=this.getMaxZIndex()+1),this.$data.showPanel=!this.$data.showPanel,this.$data.showPanel&&!this.$data.hadShow&&(this.$data.hadShow=!0,this.$nextTick(function(){e.addPopDom()}))},startDragHandler:function(e){var t=this;this._esStartPoint={right:this.$data.positions.right,top:this.$data.positions.top},de(e,function(e){if(e){var a=t._esStartPoint.right-e.offsetX,s=t._esStartPoint.top+e.offsetY;t.$data.positions.right=a,t.$data.positions.top=s}else t._esStartPoint=null})},getMaxZIndex:function(){var e=this,t=document.all||document.querySelectorAll("*"),a=0;return t.forEach(function(t){var s=e.getAttrValue(t,"z-index");a=Math.max(a,s)}),a},getAttrValue:function(e,t){var a=0;if(1==e.nodeType){var s=window.getComputedStyle(e).getPropertyValue(t),r=(s+="").match(/^\d+$/i);r&&r[0]&&(a=Number(r[0]))}return a},addPopDom:function(){!this.$data.popDom&&this.$refs.panel&&(this.$data.popDom=this.$refs.panel,document.body.appendChild(this.$data.popDom))},removePopDom:function(){this.$data.popDom&&(document.body.removeChild(this.$data.popDom),this.$data.popDom=null)}},beforeDestroy:function(){this._esStartPoint=null,this.removePopDom()}},_e=(a(345),{created:function(){this.$data.canConsole=_.isBool(this.hasConsole)?this.hasConsole:ae.hasConsole,this._esHiddenLevel=0,this._esLockSubmit=!1;var e=this.isHidden;this._esHiddenFunc=e.bind(this),this.__initUi(this.schema)},mounted:function(){},destroyed:function(){},data:function(){return{canConsole:!0,csRootData:null,csFormValue:null,formSchema:{},isInited:!1}},components:{formItem:re,consolePanel:Object(g.a)(ue,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"es-console-box",style:{zIndex:e.boxZIndex}},[a("button",{staticClass:"console-btn",on:{click:e.clickHandler}},[e._v("C")]),e._v(" "),e.hadShow?a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPanel,expression:"showPanel"}],ref:"panel",staticClass:"es-console-panel",style:{right:e.positions.right+"px",top:e.positions.top+"px",zIndex:e.positions.zIndex}},[a("div",{staticClass:"console-header",on:{mousedown:e.startDragHandler}},[a("h2",{staticClass:"panel-title"},[e._v("esForm调试面板")])]),e._v(" "),a("div",{staticClass:"console-close",on:{click:function(t){e.showPanel=!1}}},[e._v("Close")]),e._v(" "),e.showPanel?a("div",{staticClass:"panel-body"},[e._m(0),e._v(" "),a("h3",{staticClass:"subtitle"},[e._v("根数据(rootData) => getValue取出")]),e._v(" "),a("textarea",{staticClass:"value-box",attrs:{readonly:"readonly"}},[e._v(e._s(e.toJson(e.rootData))+"\n      ")]),e._v(" "),a("h3",{staticClass:"subtitle"},[e._v("表单数据(formValue) => getFormValue取出")]),e._v(" "),a("textarea",{staticClass:"value-box",attrs:{readonly:"readonly"}},[e._v(e._s(e.toJson(e.formValue))+"\n      ")])]):e._e()]):e._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"question-box"},[t("a",{staticClass:"question",attrs:{href:"https://chengaohe45.github.io/vue-easy-form-docs/dist/base/console.html",target:"_blank"}},[this._v("如何打开面板?")]),this._v(" "),t("a",{staticClass:"question",attrs:{href:"https://chengaohe45.github.io/vue-easy-form-docs/dist/base/explain.html#根值",target:"_blank"}},[this._v("什么是根数据?")]),this._v(" "),t("a",{staticClass:"question",attrs:{href:"https://chengaohe45.github.io/vue-easy-form-docs/dist/base/explain.html#表单值",target:"_blank"}},[this._v("什么是表单数据?")])])}],!1,null,null,null).exports},props:{global:{type:Object,default:function(){return{}}},schema:{type:Object},value:{type:Object,required:!1,default:function(){return{}}},hasConsole:{type:Boolean,required:!1,default:void 0}},methods:{getRef:function(e,t){var a=this.$refs.formFrame.getRef(e);if(a&&_.isArr(a))if(_.isNum(t))a=a[t];else if(t&&_.isStr(t)){for(var s=t.split(","),r=a,i=0;i<s.length;i++){var n=s[i];if(!_.isArr(r)||""===n||!r[n]){r=null;break}r=r[n]}a=r}return a||null},getValue:function(){return _.deepCopy(this._esFormData)},getRootData:function(){return _.deepCopy(this._esFormData)},getFormValue:function(){return _.deepCopy(this._esResultValue)},getGlobal:function(){return _.deepCopy(this.global?this.global:{})},setValue:function(e,t){_.isStr(e)?(e=N.chainPathKey(e),this.__setValueByKey(this.$data.formSchema,e,t),this.__syncValue()):_.isObj(e)&&(this.__setValue(this.$data.formSchema,e),this.__syncValue())},isHidden:function(e){var t=this;if(!e||!_.isStr(e))throw"isHidden: 参数必须是字符串且不能为空";e=N.chainPathKey(e),this._esHiddenLevel++;if(this._esHiddenLevel>50)throw"解析$hidden:["+e+"]出错，系统执行$hidden超过50次，可能为死循环";var a=!1,s=this.$data.formSchema,r=V.getSchemaByKey(s,e);if(r)for(var i,n,o=e.split("."),l="",c=/\[\d+\]$/,h=o.length-1,p=0;p<=h;p++){(n=o[p]).indexOf("[")>=0&&(n=n.replace(c,"")),i=l?l+"."+n:n,l=l?l+"."+o[p]:o[p];var d=i==e?r:V.getSchemaByKey(s,i),u={global:this.global?this.global:{},rootData:this._esFormData,index:d.__info.index,idxChain:d.__info.idxChain,pathKey:d.__info.pathKey,rootSchema:s,isHidden:this._esHiddenFunc};if(N.smartEsValue(d.__rawHidden,u)){a=!0;break}}else this.$data.canConsole&&(this._esWarns?this._esWarns.includes(e)||this._esWarns.push(e):(this._esWarns=[e],this.$nextTick(function(){t._esWarns&&(console.warn("无法匹配"+t._esWarns.join("、")+",系统则认为其hidden为false"),t._esWarns=null)}))),a=!1;return this._esHiddenLevel--,a},checkAll:function(){return this.__checkProp(this.$data.formSchema,this.$data.formSchema)},submit:function(){this.__submit()},getTabsIndex:function(e){if(!e||!_.isStr(e))throw"isHidden: 参数必须是字符串且不能为空";return e=N.chainPathKey(e),V.getTabsIndex(this.$data.formSchema,e)},setTabsIndex:function(e,t){if(!e||!_.isStr(e))throw"isHidden: 参数必须是字符串且不能为空";e=N.chainPathKey(e),V.setTabsIndex(this.$data.formSchema,e,t)},reset:function(){this.setValue(this._esOriginalValue),V.clearErrorMsg(this.$data.formSchema)},_getType:function(){return m.UI_FORM},_getSchema:function(){return this.$data.formSchema},__initUi:function(e){var t=this;this.$data.isInited=!1;var a=pe.completeSchema(e);this.__setValue(a,this.value),this.$data.formSchema=a,this.__syncValue(),this._esOriginalValue=_.deepCopy(this._esFormData),this.$nextTick(function(){t.$data.isInited=!0,t.$emit("inited",_.deepCopy(t._esResultValue))})},__checkProp:function(e,t){var a,s,r,i,n,o,l,c,h=!0;if(e.hidden)return h;if(e.properties)if(e.array){for(e.array.rules&&(l=V.getValue(e),!0===(s=this.__checkRules(e,l,""))?e.__invalidMsg=!1:(e.__invalidMsg=s,h=!1)),i=!!(r=e.array.name==m.ARRAY_TABS)&&e.__tabsIndex,c=e.__propSchemaList,o=0;o<c.length;o++)n=c[o],a=this.__checkProp(n,t),r&&(a||o===i?n.__hasError&&(n.__hasError=!1):n.__hasError||(n.__hasError=!0)),h=h?a:h;h||!e.ui||e.ui.showBody||(e.ui.showBody=!0)}else{for(var p in i=!!(r=!(!e.layout||e.layout.name!=m.LAYOUT_TABS))&&e.__tabsIndex,e.properties)n=e.properties[p],a=this.__checkProp(n,t),r&&(a||p===i?n.__hasError&&(n.__hasError=!1):n.__hasError||(n.__hasError=!0)),h=h?a:h;h||!e.title||e.title.showBody||(e.title.showBody=!0)}else if(e.component)if(e.array)for(e.array.rules&&(l=V.getValue(e),!0===(s=this.__checkRules(e,l,""))?e.__invalidMsg=!1:(e.__invalidMsg=s,h=!1)),i=!!(r=e.array.name==m.ARRAY_TABS)&&e.__tabsIndex,c=e.__propSchemaList,o=0;o<c.length;o++)n=c[o],a=this.__checkProp(n,t),r&&(a||o===i?n.__hasError&&(n.__hasError=!1):n.__hasError||(n.__hasError=!0)),h=h?a:h;else!0===(s=this.__checkRules(e,e.component.value,""))?e.__invalidMsg=!1:(e.__invalidMsg=s,h=!1);return h},__submit:function(){var e=this;this.$data._esLockSubmit||(this.$data._esLockSubmit=!0,this.$nextTick(function(){e.$data._esLockSubmit=!1,e.$data.isInited?e.$emit("submit",_.deepCopy(e._esResultValue)):console.warn("表单还未初始化完成，无法派发submit事件")}))},__setValueByKey:function(e,t,a){t&&_.isStr(t)&&V.setValueByKey(e,V.perfectTileValue(e,t),_.deepCopy(a))},__setValue:function(e,t){_.isObj(t)&&o()(t).length>0&&V.setValue(e,V.perfectTileValue(e,_.deepCopy(t)))},_syncFormUi:function(e,t,a){var s=this,r=e[0].__info.pathKey;if(t.includes(m.INPUT_EVENT)&&this.__syncValue(r),this.isInited){var i=e[0],n={global:this.global?this.global:{},rootData:this._esFormData,index:i.__info.index,idxChain:i.__info.idxChain,pathKey:i.__info.pathKey,rootSchema:this.$data.formSchema,isHidden:this._esHiddenFunc},o=this.__checkRules(i,a.value,t,n);!0===o?i.__invalidMsg=!1:!1!==o&&(i.__invalidMsg=o);var l=[],c=i.array?i.array.actions:i.component.actions;c&&c.forEach(function(e){_.isInter(e.trigger,t)&&l.push(e.handler)}),(l.length>0||t.includes(m.INPUT_EVENT))&&(l.length>0&&l.forEach(function(e){e.call(s,a)}),t.includes(m.INPUT_EVENT)&&this.$emit("change",_.deepCopy(this._esResultValue),r)),e=null,t=void 0,a=null,l=null}},_handleEvents:function(e,t){var a=this;e.forEach(function(e){e.call(a,t)})},_toggleUi:function(e,t){switch(e){case"tabs":V.setTabsIndex(this.$data.formSchema,t.key,t.index);break;case"toggle":V.togglePropBody(this.$data.formSchema,t.key)}},__syncValue:function(e){var t=V.getValue(this.$data.formSchema);this._esFormData=t;var a={global:this.global?this.global:{},rootData:this._esFormData,rootSchema:this.$data.formSchema,isHidden:this._esHiddenFunc};V.analyzeUiProps(this.$data.formSchema,a);var s=V.getResultValue(this.$data.formSchema,a);this._esResultValue=s,this.$emit("input",_.deepCopy(s),e||!1),this.$data.canConsole&&(this.$data.csRootData=_.deepCopy(t),this.$data.csFormValue=_.deepCopy(s)),a=null,s=null},__checkRules:function(e,t,a){var s,r;if(e.array&&e.array.rules?(s=e.array.rules,r=!0):(s=e.rules,r=!1),!s)return!0;if(!a&&r){if(e.array.min>0&&e.__propSchemaList.length<e.array.min)return e.array.minMsg;if(e.array.max>0&&e.__propSchemaList.length>e.array.max)return e.array.maxMsg}var i=s.required;if(i){if(V.isEmpty(t))return s.emptyMsg}else if(!i&&V.isEmpty(t))return!0;var n,o,l=s.checks,c=!0;if(l&&l.length>0){for(var h=!1,p=0;p<l.length;p++){var d=l[p],u=d.trigger;if(!a||_.isInter(u,a)){n=d.handler,h=!0;var f=!0;if(o||((o={}).value=t,o.pathKey=e.__info.pathKey,o.idxChain=e.__info.idxChain,o.index=e.__info.index),!0!==(f=n.call(this,o))){_.isStr(f)&&(c=f.trim())||(c=s.errMsg);break}}}h||(c=!(!a.includes(m.INPUT_EVENT)||e.__invalidMsg!==s.emptyMsg)||!!r&&(e.array.min>0&&e.__propSchemaList.length>=e.array.min&&e.__invalidMsg===e.array.minMsg||e.array.max>0&&e.__propSchemaList.length<=e.array.max&&e.__invalidMsg===e.array.maxMsg))}else c=!0,a&&r&&(c=!(!a.includes(m.INPUT_EVENT)||e.__invalidMsg!==s.emptyMsg)||(e.array.min>0&&e.__propSchemaList.length>=e.array.min&&e.__invalidMsg===e.array.minMsg||e.array.max>0&&e.__propSchemaList.length<=e.array.max&&e.__invalidMsg===e.array.maxMsg));return o=null,c}},watch:{schema:{handler:function(e){_.isObj(e)&&o()(e).length>0&&this.__initUi(e)},deep:!1},value:{handler:function(e){c()(e)!==c()(this._esResultValue)&&(this.__setValue(this.$data.formSchema,e),this.__syncValue())},deep:!1},global:{handler:function(e,t){_.isObj(e)?e===t?this.__syncValue():c()(e)!==c()(t)&&this.__syncValue():null===e&&this.__syncValue()},deep:!0}},beforeDestroy:function(){this._esOriginalValue=null,this._esHiddenFunc=null,this._esResultValue=null,this._esFormData=null}}),me=(a(346),Object(g.a)(_e,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"es-form"},[t("form-item",{ref:"formFrame",attrs:{schema:this.formSchema}}),this._v(" "),this.canConsole?t("consolePanel",{attrs:{rootData:this.csRootData,formValue:this.csFormValue}}):this._e()],1)},[],!1,null,null,null).exports),fe=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.installed||(o()(a).length>0&&_.mergeGlobal(ae,a),t.component("es-form",me))};"undefined"!=typeof window&&window.Vue&&fe(window.Vue);var ve={version:"undefined"!=typeof process?process.env.VUE_APP_VERSION:"??",install:fe,esForm:me,check:function(e){return pe.check(e)}},ge={created:function(){},data:function(){return{}},props:{icon:{type:String,required:!1,default:"el-icon-info"},content:{type:String,required:!1,default:""},href:{type:String,required:!1,default:""}},watch:{},methods:{}},ye=(a(347),Object(g.a)(ge,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"help-box"},[e.content?a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"help-content-box",domProps:{innerHTML:e._s(e.content)}})]),e._v(" "),e.href?a("a",{staticClass:"help-btn",attrs:{href:e.href,target:"_blank"}},[a("i",{class:[e.icon?e.icon:"el-icon-info","help-icon"]})]):a("i",{class:[e.icon?e.icon:"el-icon-info","help-icon"]})]):[e.href?a("a",{staticClass:"help-btn",attrs:{href:e.href,target:"_blank"}},[a("i",{class:[e.icon?e.icon:"el-icon-info","help-icon"]})]):a("i",{class:[e.icon?e.icon:"el-icon-info","help-icon"]})]],2)},[],!1,null,null,null).exports),be={data:function(){return{}},props:{num:{type:Number,required:!1,default:10}},created:function(){},computed:{},mounted:function(){},methods:{},components:{}},we=(a(348),Object(g.a)(be,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"com-unit"},[t("span",{staticClass:"txt"},[this._v("单位"+this._s(this.num))]),t("i",{staticClass:"el-icon-star-on star"})])},[],!1,null,null,null).exports),xe={data:function(){return{}},props:{},created:function(){},computed:{},mounted:function(){},methods:{},components:{}},Ce=(a(349),Object(g.a)(xe,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"com-unit"},[t("li",{staticClass:"txt"},[t("i",{staticClass:"el-icon-star-on star"}),this._v(" 第1行的描述")]),this._v(" "),t("li",{staticClass:"txt"},[t("i",{staticClass:"el-icon-bell"}),this._v(" 第2行的描述")])])}],!1,null,null,null).exports),Ee={data:function(){return{}},props:{color:{type:String,required:!1,default:"#67c23a"}},created:function(){},computed:{},mounted:function(){},methods:{},components:{}},Se=(a(350),Object(g.a)(Ee,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"com-label"},[this._v("组件写法"),t("i",{staticClass:"el-icon-star-on star",style:{color:this.color}})])},[],!1,null,null,null).exports),Ae={props:{text:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"#333"}},data:function(){return{}},components:{},created:function(){},methods:{},watch:{}},Te=(a(351),Object(g.a)(Ae,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"title-box",style:{borderColor:this.color,color:this.color}},[t("i",{staticClass:"el-icon-notebook-1 icon"}),this._v(this._s(this.text)+"\n")])},[],!1,null,null,null).exports),Ie={props:{options:{type:Array,required:!1,default:function(){return[]}},value:{}},data:function(){return{comVal:null}},components:{},created:function(){this.$data.comVal=this.value},methods:{change:function(){}},watch:{value:{handler:function(e){this.$data.comVal!=e&&(this.$data.comVal=e)},deep:!1}}},Oe=Object(g.a)(Ie,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",e._g(e._b({model:{value:e.comVal,callback:function(t){e.comVal=t},expression:"comVal"}},"el-select",e.$attrs,!1),e.$listeners),e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})}),1)},[],!1,null,null,null).exports;({register:function(){s.default.component("g-help",ye),s.default.component("g-unit",we),s.default.component("g-desc",Ce),s.default.component("g-label",Se),s.default.component("g-title",Te),s.default.component("g-select",Oe)}}).register(),s.default.use(i.a),s.default.use(ve,{rowHeight:40,rowSpace:12,labelWidth:100,offsetLeft:0,offsetRight:0,colon:!1,direction:"h",defaultCom:"el-input",defaultVal:"",trimDoms:["input","textarea","el-input"],hasConsole:!0}),s.default.config.productionTip=!1},362:function(e,t,a){"use strict";a.r(t);var s=a(143).a,r=(a(355),a(8)),i=Object(r.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demo-block",class:{hover:e.hovering},on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[a("div",{staticClass:"demo-form-box"},[e.formSchema?a("es-form",{ref:"form",attrs:{global:e.formGlobal,schema:e.formSchema},model:{value:e.formValue,callback:function(t){e.formValue=t},expression:"formValue"}}):e.errMsg?a("div",{staticClass:"error-msg"},[e._v(e._s(e.errMsg))]):e._e()],1),e._v(" "),!e.errMsg&&e.canOperate?a("div",{staticClass:"demo-form-op-box"},[a("h3",{staticClass:"demo-title"},[e._v("实例操作区")]),e._v(" "),a("div",{staticClass:"demo-form-set-wrap"},[a("div",{staticClass:"demo-form-btn-row"},[a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.validHandler}},[e._v("表单验证")]),e._v(" "),a("el-button",{attrs:{size:"small",round:""},on:{click:e.resetHandler}},[e._v("重置")]),e._v(" "),e.formGlobal?a("el-button",{staticClass:"toggle-btn",attrs:{size:"small",round:""},on:{click:e.toggleGlobalHandler}},[e._v("当前global.status为"+e._s(e.formGlobal.status)+" >> 切换")]):e._e()],1),e._v(" "),a("div",{staticClass:"demo-form-set-row"},[a("div",{staticClass:"demo-op-title"},[e._v("\n          设置表单form.setValue(key, value):\n        ")]),e._v(" "),a("div",{staticClass:"demo-op-form-box"},[a("div",{staticClass:"demo-op-form-col"},[a("es-form",{ref:"opRef",attrs:{global:e.opGlobal,schema:e.opSchema,hasConsole:!1},model:{value:e.opValue,callback:function(t){e.opValue=t},expression:"opValue"}})],1),e._v(" "),a("el-button",{staticClass:"demo-op-btn-col",attrs:{size:"small",type:"primary"},on:{click:e.setValueHandler}},[e._v("提交值设置")])],1)])])]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"demo-higlight"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"demo-block-control",on:{click:function(t){e.isExpanded=!e.isExpanded}}},[a("transition",{attrs:{name:"arrow-slide"}},[a("i",{class:[e.iconClass,{hovering:e.hovering}]})]),e._v(" "),a("transition",{attrs:{name:"text-slide"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hovering,expression:"hovering"}],staticClass:"txt"},[e._v(e._s(e.controlText))])]),e._v(" "),e.hash?a("el-tooltip",{attrs:{effect:"dark",content:"存在自定义组件，只能前往实例运行",placement:"right"}},[a("transition",{attrs:{name:"text-slide"}},[a("a",{directives:[{name:"show",rawName:"v-show",value:e.hovering||e.isExpanded,expression:"hovering || isExpanded"}],staticClass:"control-link",attrs:{target:"_blank",href:"https://chengaohe45.github.io/vue-easy-form-docs/demo/"+e.hash},on:{click:function(e){e.stopPropagation()}}},[e._v("\n          在线运行\n        ")])])],1):a("el-tooltip",{attrs:{effect:"dark",content:"前往codepen.io运行",placement:"right"}},[a("transition",{attrs:{name:"text-slide"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hovering||e.isExpanded,expression:"hovering || isExpanded"}],staticClass:"control-button",attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.goCodepen(t)}}},[e._v("\n          在线运行\n        ")])],1)],1)],1)])},[],!1,null,null,null);t.default=i.exports}}]);